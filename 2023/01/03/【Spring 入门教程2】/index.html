<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ã€Spring å…¥é—¨æ•™ç¨‹2ã€‘ | å± ä¸€ä¹</title><meta name="author" content="å± ä¸€ä¹"><meta name="copyright" content="å± ä¸€ä¹"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ğŸŒˆåšå®¢ä¸»é¡µï¼šå± ä¸€ä¹çš„åšå®¢ğŸ“… å‘æ–‡æ—¶é—´ï¼š2023.1.2ğŸˆ ä¸€å®šå­˜åœ¨åªæœ‰ä½ æ‰èƒ½åšæˆçš„äº‹ğŸŒ¹ åšä¸»æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£æ¬¢è¿å„ä½ğŸ‘æ”¶è—ğŸ’è¯„è®ºâœ‰  Spring_day02Spring  Spring_day02 1ï¼ŒIOC&#x2F;DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean  1.1 æ¡ˆä¾‹:æ•°æ®æºå¯¹è±¡ç®¡ç†  1.1.1 ç¯å¢ƒå‡†å¤‡ 1.1.2 æ€è·¯åˆ†æ 1.1.3 å®ç°Druidç®¡ç†  æ­¥éª¤1:">
<meta property="og:type" content="article">
<meta property="og:title" content="ã€Spring å…¥é—¨æ•™ç¨‹2ã€‘">
<meta property="og:url" content="http://example.com/2023/01/03/%E3%80%90Spring%20%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B2%E3%80%91/index.html">
<meta property="og:site_name" content="å± ä¸€ä¹">
<meta property="og:description" content="ğŸŒˆåšå®¢ä¸»é¡µï¼šå± ä¸€ä¹çš„åšå®¢ğŸ“… å‘æ–‡æ—¶é—´ï¼š2023.1.2ğŸˆ ä¸€å®šå­˜åœ¨åªæœ‰ä½ æ‰èƒ½åšæˆçš„äº‹ğŸŒ¹ åšä¸»æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£æ¬¢è¿å„ä½ğŸ‘æ”¶è—ğŸ’è¯„è®ºâœ‰  Spring_day02Spring  Spring_day02 1ï¼ŒIOC&#x2F;DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean  1.1 æ¡ˆä¾‹:æ•°æ®æºå¯¹è±¡ç®¡ç†  1.1.1 ç¯å¢ƒå‡†å¤‡ 1.1.2 æ€è·¯åˆ†æ 1.1.3 å®ç°Druidç®¡ç†  æ­¥éª¤1:">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://view.lixingyong.com/images/2022/08/19/v2-ad8884cd4fe9a3f5357f95469e33be47_r.jpg">
<meta property="article:published_time" content="2023-01-02T16:16:22.000Z">
<meta property="article:modified_time" content="2023-05-01T03:15:29.000Z">
<meta property="article:author" content="å± ä¸€ä¹">
<meta property="article:tag" content="spring mybatis java åç«¯">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://view.lixingyong.com/images/2022/08/19/v2-ad8884cd4fe9a3f5357f95469e33be47_r.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/01/03/%E3%80%90Spring%20%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B2%E3%80%91/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?02d2a92c6bfa7e1fed03fcc69fcd843d";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ã€Spring å…¥é—¨æ•™ç¨‹2ã€‘',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-05-01 11:15:29'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="å± ä¸€ä¹" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://view.lixingyong.com/images/2023/04/28/53c27054648a9423.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">44</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">32</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">11</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> æ—¥å¿—</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://view.lixingyong.com/images/2022/08/19/v2-ad8884cd4fe9a3f5357f95469e33be47_r.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="å± ä¸€ä¹"><img class="site-icon" src="https://view.lixingyong.com/images/2023/04/28/53c27054648a9423.jpeg"/><span class="site-name">å± ä¸€ä¹</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> æ—¥å¿—</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ã€Spring å…¥é—¨æ•™ç¨‹2ã€‘</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-01-02T16:16:22.000Z" title="å‘è¡¨äº 2023-01-03 00:16:22">2023-01-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-05-01T03:15:29.000Z" title="æ›´æ–°äº 2023-05-01 11:15:29">2023-05-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Spring/">Spring</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">16.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>66åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="ã€Spring å…¥é—¨æ•™ç¨‹2ã€‘"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><span id="more"></span>

<blockquote>
<p>ğŸŒˆåšå®¢ä¸»é¡µï¼š<a target="_blank" rel="noopener" href="https://www.cnblogs.com/qiangzi666/">å± ä¸€ä¹çš„åšå®¢</a><br>ğŸ“… å‘æ–‡æ—¶é—´ï¼š2023.1.2<br>ğŸˆ ä¸€å®šå­˜åœ¨åªæœ‰ä½ æ‰èƒ½åšæˆçš„äº‹<br>ğŸŒ¹ åšä¸»æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£<br>æ¬¢è¿å„ä½ğŸ‘æ”¶è—ğŸ’è¯„è®ºâœ‰</p>
</blockquote>
<h2 id="Spring-day02"><a href="#Spring-day02" class="headerlink" title="Spring_day02"></a>Spring_day02</h2><h3 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h3><ul>
<li><ul>
<li><a href="#Spring_day02_6">Spring_day02</a></li>
<li><a href="#1IOCDIbean_16">1ï¼ŒIOC&#x2F;DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean</a></li>
<li><ul>
<li><a href="#11__20">1.1 æ¡ˆä¾‹:æ•°æ®æºå¯¹è±¡ç®¡ç†</a></li>
<li><ul>
<li><a href="#111__26">1.1.1 ç¯å¢ƒå‡†å¤‡</a></li>
<li><a href="#112__69">1.1.2 æ€è·¯åˆ†æ</a></li>
<li><a href="#113_Druid_88">1.1.3 å®ç°Druidç®¡ç†</a></li>
<li><ul>
<li><a href="#1druid_92">æ­¥éª¤1:å¯¼å…¥`druid`çš„ä¾èµ–</a></li>
<li><a href="#2bean_104">æ­¥éª¤2:é…ç½®ç¬¬ä¸‰æ–¹bean</a></li>
<li><a href="#3IOCbean_133">æ­¥éª¤3:ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡</a></li>
<li><a href="#4_145">æ­¥éª¤4:è¿è¡Œç¨‹åº</a></li>
</ul>
</li>
<li><a href="#114_C3P0_165">1.1.4 å®ç°C3P0ç®¡ç†</a></li>
<li><ul>
<li><a href="#1C3P0_173">æ­¥éª¤1:å¯¼å…¥`C3P0`çš„ä¾èµ–ã€‘</a></li>
<li><a href="#2bean_193">æ­¥éª¤2:é…ç½®ç¬¬ä¸‰æ–¹bean</a></li>
<li><a href="#3_213">æ­¥éª¤3:è¿è¡Œç¨‹åº</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#12_properties_241">1.2 åŠ è½½propertiesæ–‡ä»¶</a></li>
<li><ul>
<li><a href="#121_bean_251">1.2.1 ç¬¬ä¸‰æ–¹beanå±æ€§ä¼˜åŒ–</a></li>
<li><ul>
<li><a href="#1211__253">1.2.1.1 å®ç°æ€è·¯</a></li>
<li><a href="#1212__267">1.2.1.2 å®ç°æ­¥éª¤</a></li>
<li><ul>
<li><a href="#1properties_269">æ­¥éª¤1:å‡†å¤‡propertiesé…ç½®æ–‡ä»¶</a></li>
<li><a href="#2context_280">æ­¥éª¤2:å¼€å¯`context`å‘½åç©ºé—´</a></li>
<li><a href="#3properties_297">æ­¥éª¤3:åŠ è½½propertiesé…ç½®æ–‡ä»¶</a></li>
<li><a href="#4_305">æ­¥éª¤4:å®Œæˆå±æ€§æ³¨å…¥</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#122__332">1.2.2 è¯»å–å•ä¸ªå±æ€§</a></li>
<li><ul>
<li><a href="#1221__334">1.2.2.1 å®ç°æ€è·¯</a></li>
<li><a href="#1222__348">1.2.2.2 å®ç°æ­¥éª¤</a></li>
<li><ul>
<li><a href="#1_350">æ­¥éª¤1:åœ¨é¡¹ç›®ä¸­æ·»å¯¹åº”çš„ç±»</a></li>
<li><a href="#2_372">æ­¥éª¤2:å®Œæˆé…ç½®æ–‡ä»¶çš„è¯»å–ä¸æ³¨å…¥</a></li>
<li><a href="#3_395">æ­¥éª¤3:è¿è¡Œç¨‹åº</a></li>
</ul>
</li>
<li><a href="#1223__411">1.2.2.3 æ³¨æ„äº‹é¡¹</a></li>
</ul>
</li>
<li><a href="#123_properties_529">1.2.3 åŠ è½½propertiesæ–‡ä»¶å°ç»“</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#2_549">2ï¼Œæ ¸å¿ƒå®¹å™¨</a></li>
<li><ul>
<li><a href="#21__560">2.1 ç¯å¢ƒå‡†å¤‡</a></li>
<li><a href="#22__619">2.2 å®¹å™¨</a></li>
<li><ul>
<li><a href="#221__621">2.2.1 å®¹å™¨çš„åˆ›å»ºæ–¹å¼</a></li>
<li><a href="#222_Bean_653">2.2.2 Beançš„ä¸‰ç§è·å–æ–¹å¼</a></li>
<li><a href="#223__679">2.2.3 å®¹å™¨ç±»å±‚æ¬¡ç»“æ„</a></li>
<li><a href="#224_BeanFactory_691">2.2.4 BeanFactoryçš„ä½¿ç”¨</a></li>
</ul>
</li>
<li><a href="#22__764">2.2 æ ¸å¿ƒå®¹å™¨æ€»ç»“</a></li>
<li><ul>
<li><a href="#221__768">2.2.1 å®¹å™¨ç›¸å…³</a></li>
<li><a href="#222_bean_777">2.2.2 beanç›¸å…³</a></li>
<li><a href="#223__785">2.2.3 ä¾èµ–æ³¨å…¥ç›¸å…³</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#3IOCDI_789">3ï¼ŒIOC&#x2F;DIæ³¨è§£å¼€å‘</a></li>
<li><ul>
<li><a href="#31__807">3.1 ç¯å¢ƒå‡†å¤‡</a></li>
<li><a href="#32_bean_876">3.2 æ³¨è§£å¼€å‘å®šä¹‰bean</a></li>
<li><ul>
<li><a href="#1XML_880">æ­¥éª¤1:åˆ é™¤åŸXMLé…ç½®</a></li>
<li><a href="#2Dao_888">æ­¥éª¤2:Daoä¸Šæ·»åŠ æ³¨è§£</a></li>
<li><a href="#3Spring_907">æ­¥éª¤3:é…ç½®Springçš„æ³¨è§£åŒ…æ‰«æ</a></li>
<li><a href="#4_934">æ­¥éª¤4ï¼šè¿è¡Œç¨‹åº</a></li>
<li><a href="#5Service_940">æ­¥éª¤5:Serviceä¸Šæ·»åŠ æ³¨è§£</a></li>
<li><a href="#6_960">æ­¥éª¤6:è¿è¡Œç¨‹åº</a></li>
<li><a href="#1Component_1002">çŸ¥è¯†ç‚¹1:@Componentç­‰</a></li>
</ul>
</li>
<li><a href="#32__1011">3.2 çº¯æ³¨è§£å¼€å‘æ¨¡å¼</a></li>
<li><ul>
<li><a href="#321__1019">3.2.1 æ€è·¯åˆ†æ</a></li>
<li><a href="#322__1025">3.2.2 å®ç°æ­¥éª¤</a></li>
<li><ul>
<li><a href="#1_1027">æ­¥éª¤1:åˆ›å»ºé…ç½®ç±»</a></li>
<li><a href="#2_1036">æ­¥éª¤2:æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»</a></li>
<li><a href="#3_1046">æ­¥éª¤3:ç”¨æ³¨è§£æ›¿æ¢åŒ…æ‰«æé…ç½®</a></li>
<li><a href="#4_1057">æ­¥éª¤4:åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ</a></li>
</ul>
</li>
<li><a href="#1Configuration_1101">çŸ¥è¯†ç‚¹1ï¼š@Configuration</a></li>
<li><a href="#2ComponentScan_1110">çŸ¥è¯†ç‚¹2ï¼š@ComponentScan</a></li>
</ul>
</li>
<li><a href="#33_bean_1129">3.3 æ³¨è§£å¼€å‘beanä½œç”¨èŒƒå›´ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†</a></li>
<li><ul>
<li><a href="#331__1133">3.3.1 ç¯å¢ƒå‡†å¤‡</a></li>
<li><a href="#332_Bean_1192">3.3.2 Beançš„ä½œç”¨èŒƒå›´</a></li>
<li><ul>
<li><a href="#1Scope_1216">çŸ¥è¯†ç‚¹1ï¼š@Scope</a></li>
</ul>
</li>
<li><a href="#333_Bean_1225">3.3.3 Beançš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><ul>
<li><a href="#1PostConstruct_1297">çŸ¥è¯†ç‚¹1ï¼š@PostConstruct</a></li>
<li><a href="#2PreDestroy_1306">çŸ¥è¯†ç‚¹2ï¼š@PreDestroy</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#34__1319">3.4 æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥</a></li>
<li><ul>
<li><a href="#341__1323">3.4.1 ç¯å¢ƒå‡†å¤‡</a></li>
<li><a href="#342__1400">3.4.2 æ³¨è§£å®ç°æŒ‰ç…§ç±»å‹æ³¨å…¥</a></li>
<li><a href="#343__1477">3.4.3 æ³¨è§£å®ç°æŒ‰ç…§åç§°æ³¨å…¥</a></li>
<li><a href="#344__1499">3.4.4 ç®€å•æ•°æ®ç±»å‹æ³¨å…¥</a></li>
<li><a href="#345_properties_1530">3.4.5 æ³¨è§£è¯»å–propertiesé…ç½®æ–‡ä»¶</a></li>
<li><ul>
<li><a href="#1resourceproperties_1534">æ­¥éª¤1ï¼šresourceä¸‹å‡†å¤‡propertiesæ–‡ä»¶</a></li>
<li><a href="#2_properties_1542">æ­¥éª¤2: ä½¿ç”¨æ³¨è§£åŠ è½½propertiesé…ç½®æ–‡ä»¶</a></li>
<li><a href="#3Value_1555">æ­¥éª¤3ï¼šä½¿ç”¨@Valueè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹</a></li>
</ul>
</li>
<li><a href="#1Autowired_1594">çŸ¥è¯†ç‚¹1ï¼š@Autowired</a></li>
<li><a href="#2Qualifier_1604">çŸ¥è¯†ç‚¹2ï¼š@Qualifier</a></li>
<li><a href="#3Value_1613">çŸ¥è¯†ç‚¹3ï¼š@Value</a></li>
<li><a href="#4PropertySource_1622">çŸ¥è¯†ç‚¹4ï¼š@PropertySource</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#4IOCDIbean_1631">4ï¼ŒIOC&#x2F;DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</a></li>
<li><ul>
<li><a href="#41__1641">4.1 ç¯å¢ƒå‡†å¤‡</a></li>
<li><a href="#42_bean_1695">4.2 æ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</a></li>
<li><ul>
<li><a href="#1jar_1699">æ­¥éª¤1:å¯¼å…¥å¯¹åº”çš„jaråŒ…</a></li>
<li><a href="#2_1709">æ­¥éª¤2:åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•</a></li>
<li><a href="#3Bean_1727">æ­¥éª¤3:åœ¨æ–¹æ³•ä¸Šæ·»åŠ `@Bean`æ³¨è§£</a></li>
<li><a href="#4IOC_1750">æ­¥éª¤4:ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æ‰“å°</a></li>
</ul>
</li>
<li><a href="#43__1766">4.3 å¼•å…¥å¤–éƒ¨é…ç½®ç±»</a></li>
<li><ul>
<li><a href="#431__1790">4.3.1 ä½¿ç”¨åŒ…æ‰«æå¼•å…¥</a></li>
<li><ul>
<li><a href="#1Spring_1792">æ­¥éª¤1:åœ¨Springçš„é…ç½®ç±»ä¸Šæ·»åŠ åŒ…æ‰«æ</a></li>
<li><a href="#2JdbcConfig_1801">æ­¥éª¤2:åœ¨JdbcConfigä¸Šæ·»åŠ é…ç½®æ³¨è§£</a></li>
<li><a href="#3_1820">æ­¥éª¤3:è¿è¡Œç¨‹åº</a></li>
</ul>
</li>
<li><a href="#432_Import_1826">4.3.2 ä½¿ç”¨`@Import`å¼•å…¥</a></li>
<li><ul>
<li><a href="#1JdbcConfig_1832">æ­¥éª¤1:å»é™¤JdbcConfigç±»ä¸Šçš„æ³¨è§£</a></li>
<li><a href="#2Spring_1848">æ­¥éª¤2:åœ¨Springé…ç½®ç±»ä¸­å¼•å…¥</a></li>
<li><a href="#3_1877">æ­¥éª¤3:è¿è¡Œç¨‹åº</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#1Bean_1881">çŸ¥è¯†ç‚¹1ï¼š@Bean</a></li>
<li><a href="#2Import_1890">çŸ¥è¯†ç‚¹2ï¼š@Import</a></li>
<li><a href="#44_bean_1899">4.4 æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº</a></li>
<li><ul>
<li><a href="#441__1905">4.4.1 ç®€å•æ•°æ®ç±»å‹</a></li>
<li><ul>
<li><a href="#4411__1907">4.4.1.1 éœ€æ±‚åˆ†æ</a></li>
<li><a href="#4412__1925">4.4.1.2 æ³¨å…¥ç®€å•æ•°æ®ç±»å‹æ­¥éª¤</a></li>
<li><ul>
<li><a href="#1_1927">æ­¥éª¤1:ç±»ä¸­æä¾›å››ä¸ªå±æ€§</a></li>
<li><a href="#2Value_1947">æ­¥éª¤2:ä½¿ç”¨`@Value`æ³¨è§£å¼•å…¥å€¼</a></li>
<li><a href="#_1971">æ‰©å±•</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#442__1985">4.4.2 å¼•ç”¨æ•°æ®ç±»å‹</a></li>
<li><ul>
<li><a href="#4421__1987">4.4.2.1 éœ€æ±‚åˆ†æ</a></li>
<li><a href="#4422__2005">4.4.2.2 æ³¨å…¥å¼•ç”¨æ•°æ®ç±»å‹æ­¥éª¤</a></li>
<li><ul>
<li><a href="#1SpringConfigBookDao_2007">æ­¥éª¤1:åœ¨SpringConfigä¸­æ‰«æBookDao</a></li>
<li><a href="#2JdbcConfig_2019">æ­¥éª¤2:åœ¨JdbcConfigç±»çš„æ–¹æ³•ä¸Šæ·»åŠ å‚æ•°</a></li>
<li><a href="#3_2036">æ­¥éª¤3:è¿è¡Œç¨‹åº</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#5_2042">5ï¼Œæ³¨è§£å¼€å‘æ€»ç»“</a></li>
<li><a href="#6Spring_2048">6ï¼ŒSpringæ•´åˆ</a></li>
<li><ul>
<li><a href="#61_SpringMybatis_2052">6.1 Springæ•´åˆMybatisæ€è·¯åˆ†æ</a></li>
<li><ul>
<li><a href="#611__2054">6.1.1 ç¯å¢ƒå‡†å¤‡</a></li>
<li><ul>
<li><a href="#1_2058">æ­¥éª¤1:å‡†å¤‡æ•°æ®åº“è¡¨</a></li>
<li><a href="#2jar_2072">æ­¥éª¤2:åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…</a></li>
<li><a href="#3_2101">æ­¥éª¤3:æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»</a></li>
<li><a href="#4Dao_2113">æ­¥éª¤4:åˆ›å»ºDaoæ¥å£</a></li>
<li><a href="#5Service_2135">æ­¥éª¤5:åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»</a></li>
<li><a href="#6jdbcproperties_2180">æ­¥éª¤6:æ·»åŠ jdbc.propertiesæ–‡ä»¶</a></li>
<li><a href="#7Mybatis_2193">æ­¥éª¤7:æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</a></li>
<li><a href="#8_2226">æ­¥éª¤8:ç¼–å†™åº”ç”¨ç¨‹åº</a></li>
<li><a href="#9_2251">æ­¥éª¤9:è¿è¡Œç¨‹åº</a></li>
</ul>
</li>
<li><a href="#612__2255">6.1.2 æ•´åˆæ€è·¯åˆ†æ</a></li>
</ul>
</li>
<li><a href="#62_SpringMybatis_2277">6.2 Springæ•´åˆMybatis</a></li>
<li><ul>
<li><a href="#1jar_2287">æ­¥éª¤1:é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…</a></li>
<li><a href="#2Spring_2307">æ­¥éª¤2:åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»</a></li>
<li><a href="#3_2318">æ­¥éª¤3:åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»</a></li>
<li><a href="#4properties_2345">æ­¥éª¤4:ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»</a></li>
<li><a href="#5MybatisSqlSessionFactory_2356">æ­¥éª¤5:åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory</a></li>
<li><a href="#6Mybatis_2396">æ­¥éª¤6:ä¸»é…ç½®ç±»ä¸­å¼•å…¥Mybatisé…ç½®ç±»</a></li>
<li><a href="#7_2407">æ­¥éª¤7:ç¼–å†™è¿è¡Œç±»</a></li>
<li><a href="#8_2425">æ­¥éª¤8:è¿è¡Œç¨‹åº</a></li>
</ul>
</li>
<li><a href="#63_SpringJunit_2434">6.3 Springæ•´åˆJunit</a></li>
<li><ul>
<li><a href="#631__2438">6.3.1 ç¯å¢ƒå‡†å¤‡</a></li>
<li><a href="#632_Junit_2444">6.3.2 æ•´åˆJunitæ­¥éª¤</a></li>
<li><ul>
<li><a href="#1_2448">æ­¥éª¤1:å¼•å…¥ä¾èµ–</a></li>
<li><a href="#2_2467">æ­¥éª¤2:ç¼–å†™æµ‹è¯•ç±»</a></li>
</ul>
</li>
<li><a href="#1RunWith_2500">çŸ¥è¯†ç‚¹1ï¼š@RunWith</a></li>
<li><a href="#2ContextConfiguration_2509">çŸ¥è¯†ç‚¹2ï¼š@ContextConfiguration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>ä»Šæ—¥ç›®æ ‡</strong></p>
<blockquote>
<ul>
<li>æŒæ¡IOC&#x2F;DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean</li>
<li>æŒæ¡IOC&#x2F;DIçš„æ³¨è§£å¼€å‘</li>
<li>æŒæ¡IOC&#x2F;DIæ³¨è§£ç®¡ç†ç¬¬ä¸‰æ–¹bean</li>
<li>å®ŒæˆSpringä¸MybatisåŠJunitçš„æ•´åˆå¼€å‘</li>
</ul>
</blockquote>
<h2 id="1ï¼ŒIOC-x2F-DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean"><a href="#1ï¼ŒIOC-x2F-DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean" class="headerlink" title="1ï¼ŒIOC&#x2F;DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean"></a>1ï¼ŒIOC&#x2F;DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean</h2><p>å‰é¢æ‰€è®²çš„çŸ¥è¯†ç‚¹éƒ½æ˜¯åŸºäºæˆ‘ä»¬è‡ªå·±å†™çš„ç±»ï¼Œç°åœ¨å¦‚æœæœ‰éœ€æ±‚è®©æˆ‘ä»¬å»ç®¡ç†ç¬¬ä¸‰æ–¹jaråŒ…ä¸­çš„ç±»ï¼Œè¯¥å¦‚ä½•ç®¡ç†?</p>
<h3 id="1-1-æ¡ˆä¾‹-æ•°æ®æºå¯¹è±¡ç®¡ç†"><a href="#1-1-æ¡ˆä¾‹-æ•°æ®æºå¯¹è±¡ç®¡ç†" class="headerlink" title="1.1 æ¡ˆä¾‹:æ•°æ®æºå¯¹è±¡ç®¡ç†"></a>1.1 æ¡ˆä¾‹:æ•°æ®æºå¯¹è±¡ç®¡ç†</h3><p>åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥å­¦ä¹ ä¸‹å¯¹äºç¬¬ä¸‰æ–¹beanè¯¥å¦‚ä½•è¿›è¡Œé…ç½®ç®¡ç†ã€‚</p>
<p>ä»¥åæˆ‘ä»¬ä¼šç”¨åˆ°å¾ˆå¤šç¬¬ä¸‰æ–¹çš„bean,æœ¬æ¬¡æ¡ˆä¾‹å°†ä½¿ç”¨å’±ä»¬å‰é¢æåˆ°è¿‡çš„æ•°æ®æº<code>Druid(å¾·é²ä¼Š)</code>å’Œ<code>C3P0</code>æ¥é…ç½®å­¦ä¹ ä¸‹ã€‚</p>
<h4 id="1-1-1-ç¯å¢ƒå‡†å¤‡"><a href="#1-1-1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="1.1.1 ç¯å¢ƒå‡†å¤‡"></a>1.1.1 ç¯å¢ƒå‡†å¤‡</h4><p>å­¦ä¹ ä¹‹å‰ï¼Œå…ˆæ¥å‡†å¤‡ä¸‹æ¡ˆä¾‹ç¯å¢ƒ:</p>
<ul>
<li><p>åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/05620f3b1b331bd66eee677a1ebab5a0.png" alt="1629860338328"></p>
</li>
<li><p>pom.xmlæ·»åŠ ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>resourcesä¸‹æ·»åŠ springçš„é…ç½®æ–‡ä»¶applicationContext.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™ä¸€ä¸ªè¿è¡Œç±»App</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-1-2-æ€è·¯åˆ†æ"><a href="#1-1-2-æ€è·¯åˆ†æ" class="headerlink" title="1.1.2 æ€è·¯åˆ†æ"></a>1.1.2 æ€è·¯åˆ†æ</h4><p>åœ¨ä¸Šè¿°ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬æ¥å¯¹æ•°æ®æºè¿›è¡Œé…ç½®ç®¡ç†ï¼Œå…ˆæ¥åˆ†æä¸‹æ€è·¯:</p>
<blockquote>
<p>éœ€æ±‚:ä½¿ç”¨Springçš„IOCå®¹å™¨æ¥ç®¡ç†Druidè¿æ¥æ± å¯¹è±¡</p>
<p>1.ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æŠ€æœ¯ï¼Œéœ€è¦åœ¨pom.xmlæ·»åŠ ä¾èµ–</p>
<p>2.åœ¨é…ç½®æ–‡ä»¶ä¸­å°†ã€ç¬¬ä¸‰æ–¹çš„ç±»ã€‘åˆ¶ä½œæˆä¸€ä¸ªbeanï¼Œè®©IOCå®¹å™¨è¿›è¡Œç®¡ç†</p>
<p>3.æ•°æ®åº“è¿æ¥éœ€è¦åŸºç¡€çš„å››è¦ç´ <code>é©±åŠ¨</code>ã€<code>è¿æ¥</code>ã€<code>ç”¨æˆ·å</code>å’Œ<code>å¯†ç </code>ï¼Œã€å¦‚ä½•æ³¨å…¥ã€‘åˆ°å¯¹åº”çš„beanä¸­</p>
<p>4.ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡ï¼Œå°†å…¶æ‰“å°åˆ°æ§åˆ¶å°æŸ¥çœ‹ç»“æœ</p>
</blockquote>
<p><strong>æ€è€ƒ:</strong></p>
<ul>
<li>ç¬¬ä¸‰æ–¹çš„ç±»æŒ‡çš„æ˜¯ä»€ä¹ˆ?</li>
<li>å¦‚ä½•æ³¨å…¥æ•°æ®åº“è¿æ¥å››è¦ç´ ?</li>
</ul>
<h4 id="1-1-3-å®ç°Druidç®¡ç†"><a href="#1-1-3-å®ç°Druidç®¡ç†" class="headerlink" title="1.1.3 å®ç°Druidç®¡ç†"></a>1.1.3 å®ç°Druidç®¡ç†</h4><p>å¸¦ç€è¿™ä¸¤ä¸ªé—®é¢˜ï¼ŒæŠŠä¸‹é¢çš„æ¡ˆä¾‹å®ç°ä¸‹:</p>
<h5 id="æ­¥éª¤1-å¯¼å…¥druidçš„ä¾èµ–"><a href="#æ­¥éª¤1-å¯¼å…¥druidçš„ä¾èµ–" class="headerlink" title="æ­¥éª¤1:å¯¼å…¥druidçš„ä¾èµ–"></a>æ­¥éª¤1:å¯¼å…¥<code>druid</code>çš„ä¾èµ–</h5><p>pom.xmlä¸­æ·»åŠ ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤2-é…ç½®ç¬¬ä¸‰æ–¹bean"><a href="#æ­¥éª¤2-é…ç½®ç¬¬ä¸‰æ–¹bean" class="headerlink" title="æ­¥éª¤2:é…ç½®ç¬¬ä¸‰æ–¹bean"></a>æ­¥éª¤2:é…ç½®ç¬¬ä¸‰æ–¹bean</h5><p>åœ¨applicationContext.xmlé…ç½®æ–‡ä»¶ä¸­æ·»åŠ <code>DruidDataSource</code>çš„é…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--ç®¡ç†DruidDataSourceå¯¹è±¡--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>driverClassName:æ•°æ®åº“é©±åŠ¨</li>
<li>url:æ•°æ®åº“è¿æ¥åœ°å€</li>
<li>username:æ•°æ®åº“è¿æ¥ç”¨æˆ·å</li>
<li>password:æ•°æ®åº“è¿æ¥å¯†ç </li>
<li>æ•°æ®åº“è¿æ¥çš„å››è¦ç´ è¦å’Œè‡ªå·±ä½¿ç”¨çš„æ•°æ®åº“ä¿¡æ¯ä¸€è‡´ã€‚</li>
</ul>
<h5 id="æ­¥éª¤3-ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡"><a href="#æ­¥éª¤3-ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡" class="headerlink" title="æ­¥éª¤3:ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡"></a>æ­¥éª¤3:ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">       <span class="type">DataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> (DataSource) ctx.getBean(<span class="string">&quot;dataSource&quot;</span>);</span><br><span class="line">       System.out.println(dataSource);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤4-è¿è¡Œç¨‹åº"><a href="#æ­¥éª¤4-è¿è¡Œç¨‹åº" class="headerlink" title="æ­¥éª¤4:è¿è¡Œç¨‹åº"></a>æ­¥éª¤4:è¿è¡Œç¨‹åº</h5><p>æ‰“å°å¦‚ä¸‹ç»“æœ: è¯´æ˜ç¬¬ä¸‰æ–¹beanå¯¹è±¡å·²ç»è¢«springçš„IOCå®¹å™¨è¿›è¡Œç®¡ç†</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/4f849b623d1f87b269fdfe687e16f797.png" alt="1629887733081"></p>
<p>åšå®Œæ¡ˆä¾‹åï¼Œæˆ‘ä»¬å¯ä»¥å°†åˆšæ‰æ€è€ƒçš„ä¸¤ä¸ªé—®é¢˜ç­”æ¡ˆè¯´ä¸‹:</p>
<ul>
<li><p>ç¬¬ä¸‰æ–¹çš„ç±»æŒ‡çš„æ˜¯ä»€ä¹ˆ?</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DruidDataSource</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚ä½•æ³¨å…¥æ•°æ®åº“è¿æ¥å››è¦ç´ ?</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setteræ³¨å…¥</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-1-4-å®ç°C3P0ç®¡ç†"><a href="#1-1-4-å®ç°C3P0ç®¡ç†" class="headerlink" title="1.1.4 å®ç°C3P0ç®¡ç†"></a>1.1.4 å®ç°C3P0ç®¡ç†</h4><p>å®Œæˆäº†DruidDataSourceçš„ç®¡ç†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥åŠ æ·±ä¸‹ç»ƒä¹ ï¼Œè¿™æ¬¡æˆ‘ä»¬æ¥ç®¡ç†<code>C3P0</code>æ•°æ®æºï¼Œå…·ä½“çš„å®ç°æ­¥éª¤æ˜¯ä»€ä¹ˆå‘¢?</p>
<blockquote>
<p>éœ€æ±‚:ä½¿ç”¨Springçš„IOCå®¹å™¨æ¥ç®¡ç†C3P0è¿æ¥æ± å¯¹è±¡</p>
<p>å®ç°æ–¹æ¡ˆå’Œä¸Šé¢åŸºæœ¬ä¸€è‡´ï¼Œé‡ç‚¹è¦å…³æ³¨ç®¡ç†çš„æ˜¯å“ªä¸ªbeanå¯¹è±¡`?</p>
</blockquote>
<h5 id="æ­¥éª¤1-å¯¼å…¥C3P0çš„ä¾èµ–ã€‘"><a href="#æ­¥éª¤1-å¯¼å…¥C3P0çš„ä¾èµ–ã€‘" class="headerlink" title="æ­¥éª¤1:å¯¼å…¥C3P0çš„ä¾èµ–ã€‘"></a>æ­¥éª¤1:å¯¼å…¥<code>C3P0</code>çš„ä¾èµ–ã€‘</h5><p>pom.xmlä¸­æ·»åŠ ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å¯¹äºæ–°çš„æŠ€æœ¯ï¼Œä¸çŸ¥é“å…·ä½“çš„åæ ‡è¯¥å¦‚ä½•æŸ¥æ‰¾?</strong></p>
<ul>
<li><p>ç›´æ¥ç™¾åº¦æœç´¢</p>
</li>
<li><p>ä»mvnçš„ä»“åº“<code>https://mvnrepository.com/</code>ä¸­è¿›è¡Œæœç´¢</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/52f0f7f0a1ec5066012deb751d304aa5.png" alt="1629888540286"></p>
</li>
</ul>
<h5 id="æ­¥éª¤2-é…ç½®ç¬¬ä¸‰æ–¹bean-1"><a href="#æ­¥éª¤2-é…ç½®ç¬¬ä¸‰æ–¹bean-1" class="headerlink" title="æ­¥éª¤2:é…ç½®ç¬¬ä¸‰æ–¹bean"></a>æ­¥éª¤2:é…ç½®ç¬¬ä¸‰æ–¹bean</h5><p>åœ¨applicationContext.xmlé…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxPoolSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1000&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong></p>
<ul>
<li>ComboPooledDataSourceçš„å±æ€§æ˜¯é€šè¿‡setteræ–¹å¼è¿›è¡Œæ³¨å…¥</li>
<li>æƒ³æ³¨å…¥å±æ€§å°±éœ€è¦åœ¨ComboPooledDataSourceç±»æˆ–å…¶ä¸Šå±‚ç±»ä¸­æœ‰æä¾›å±æ€§å¯¹åº”çš„setteræ–¹æ³•</li>
<li>C3P0çš„å››ä¸ªå±æ€§å’ŒDruidçš„å››ä¸ªå±æ€§æ˜¯ä¸ä¸€æ ·çš„</li>
</ul>
<h5 id="æ­¥éª¤3-è¿è¡Œç¨‹åº"><a href="#æ­¥éª¤3-è¿è¡Œç¨‹åº" class="headerlink" title="æ­¥éª¤3:è¿è¡Œç¨‹åº"></a>æ­¥éª¤3:è¿è¡Œç¨‹åº</h5><p>ç¨‹åºä¼šæŠ¥é”™ï¼Œé”™è¯¯å¦‚ä¸‹</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/975b4b52ea4d22b2b9fe0db4dc3e3bc5.png" alt="1629889170229"></p>
<p>æŠ¥çš„é”™ä¸ºClassNotFoundException,ç¿»è¯‘å‡ºæ¥æ˜¯<code>ç±»æ²¡æœ‰å‘ç°çš„å¼‚å¸¸</code>ï¼Œå…·ä½“çš„ç±»ä¸º<code>com.mysql.jdbc.Driver</code>ã€‚é”™è¯¯çš„åŸå› æ˜¯ç¼ºå°‘mysqlçš„é©±åŠ¨åŒ…ã€‚</p>
<p>åˆ†æå‡ºé”™è¯¯çš„åŸå› ï¼Œå…·ä½“çš„è§£å†³æ–¹æ¡ˆå°±æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦åœ¨pom.xmlæŠŠé©±åŠ¨åŒ…å¼•å…¥å³å¯ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å®Œmysqlçš„é©±åŠ¨åŒ…ä»¥åï¼Œå†æ¬¡è¿è¡ŒApp,å°±å¯ä»¥æ‰“å°å‡ºç»“æœ:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/c5efca57de1a9cfc07d4b90cdcc33ac7.png" alt="1629903845404"></p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>æ•°æ®è¿æ¥æ± åœ¨é…ç½®å±æ€§çš„æ—¶å€™ï¼Œé™¤äº†å¯ä»¥æ³¨å…¥æ•°æ®åº“è¿æ¥å››è¦ç´ å¤–è¿˜å¯ä»¥é…ç½®å¾ˆå¤šå…¶ä»–çš„å±æ€§ï¼Œå…·ä½“éƒ½æœ‰å“ªäº›å±æ€§ç”¨åˆ°çš„æ—¶å€™å†å»æŸ¥ï¼Œä¸€èˆ¬é…ç½®åŸºç¡€çš„å››ä¸ªï¼Œå…¶ä»–éƒ½æœ‰è‡ªå·±çš„é»˜è®¤å€¼</li>
<li>Druidå’ŒC3P0åœ¨æ²¡æœ‰å¯¼å…¥mysqlé©±åŠ¨åŒ…çš„å‰æä¸‹ï¼Œä¸€ä¸ªæ²¡æŠ¥é”™ä¸€ä¸ªæŠ¥é”™ï¼Œè¯´æ˜Druidåœ¨åˆå§‹åŒ–çš„æ—¶å€™æ²¡æœ‰å»åŠ è½½é©±åŠ¨ï¼Œè€ŒC3P0åˆšå¥½ç›¸å</li>
<li>Druidç¨‹åºè¿è¡Œè™½ç„¶æ²¡æœ‰æŠ¥é”™ï¼Œä½†æ˜¯å½“è°ƒç”¨DruidDataSourceçš„getConnection()æ–¹æ³•è·å–è¿æ¥çš„æ—¶å€™ï¼Œä¹Ÿä¼šæŠ¥æ‰¾ä¸åˆ°é©±åŠ¨ç±»çš„é”™è¯¯</li>
</ul>
<h3 id="1-2-åŠ è½½propertiesæ–‡ä»¶"><a href="#1-2-åŠ è½½propertiesæ–‡ä»¶" class="headerlink" title="1.2 åŠ è½½propertiesæ–‡ä»¶"></a>1.2 åŠ è½½propertiesæ–‡ä»¶</h3><p>ä¸ŠèŠ‚ä¸­æˆ‘ä»¬å·²ç»å®Œæˆä¸¤ä¸ªæ•°æ®æº<code>druid</code>å’Œ<code>C3P0</code>çš„é…ç½®ï¼Œä½†æ˜¯å…¶ä¸­åŒ…å«äº†ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸‹:</p>
<ul>
<li>è¿™ä¸¤ä¸ªæ•°æ®æºä¸­éƒ½ä½¿ç”¨åˆ°äº†ä¸€äº›å›ºå®šçš„å¸¸é‡å¦‚æ•°æ®åº“è¿æ¥å››è¦ç´ ï¼ŒæŠŠè¿™äº›å€¼å†™åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­ä¸åˆ©äºåæœŸç»´æŠ¤</li>
<li>éœ€è¦å°†è¿™äº›å€¼æå–åˆ°ä¸€ä¸ªå¤–éƒ¨çš„propertiesé…ç½®æ–‡ä»¶ä¸­</li>
<li>Springæ¡†æ¶å¦‚ä½•ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–å±æ€§å€¼æ¥é…ç½®å°±æ˜¯æ¥ä¸‹æ¥è¦è§£å†³çš„é—®é¢˜ã€‚</li>
</ul>
<p>é—®é¢˜æå‡ºæ¥åï¼Œå…·ä½“è¯¥å¦‚ä½•å®ç°?</p>
<h4 id="1-2-1-ç¬¬ä¸‰æ–¹beanå±æ€§ä¼˜åŒ–"><a href="#1-2-1-ç¬¬ä¸‰æ–¹beanå±æ€§ä¼˜åŒ–" class="headerlink" title="1.2.1 ç¬¬ä¸‰æ–¹beanå±æ€§ä¼˜åŒ–"></a>1.2.1 ç¬¬ä¸‰æ–¹beanå±æ€§ä¼˜åŒ–</h4><h5 id="1-2-1-1-å®ç°æ€è·¯"><a href="#1-2-1-1-å®ç°æ€è·¯" class="headerlink" title="1.2.1.1 å®ç°æ€è·¯"></a>1.2.1.1 å®ç°æ€è·¯</h5><blockquote>
<p>éœ€æ±‚:å°†æ•°æ®åº“è¿æ¥å››è¦ç´ æå–åˆ°propertiesé…ç½®æ–‡ä»¶ï¼Œspringæ¥åŠ è½½é…ç½®ä¿¡æ¯å¹¶ä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥å®Œæˆå±æ€§æ³¨å…¥ã€‚</p>
<p>1.åœ¨resourcesä¸‹åˆ›å»ºä¸€ä¸ªjdbc.properties(æ–‡ä»¶çš„åç§°å¯ä»¥ä»»æ„)</p>
<p>2.å°†æ•°æ®åº“è¿æ¥å››è¦ç´ é…ç½®åˆ°é…ç½®æ–‡ä»¶ä¸­</p>
<p>3.åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­åŠ è½½propertiesæ–‡ä»¶</p>
<p>4.ä½¿ç”¨åŠ è½½åˆ°çš„å€¼å®ç°å±æ€§æ³¨å…¥</p>
<p>å…¶ä¸­ç¬¬3ï¼Œ4æ­¥éª¤æ˜¯éœ€è¦å¤§å®¶é‡ç‚¹å…³æ³¨ï¼Œå…·ä½“æ˜¯å¦‚ä½•å®ç°ã€‚</p>
</blockquote>
<h5 id="1-2-1-2-å®ç°æ­¥éª¤"><a href="#1-2-1-2-å®ç°æ­¥éª¤" class="headerlink" title="1.2.1.2 å®ç°æ­¥éª¤"></a>1.2.1.2 å®ç°æ­¥éª¤</h5><h6 id="æ­¥éª¤1-å‡†å¤‡propertiesé…ç½®æ–‡ä»¶"><a href="#æ­¥éª¤1-å‡†å¤‡propertiesé…ç½®æ–‡ä»¶" class="headerlink" title="æ­¥éª¤1:å‡†å¤‡propertiesé…ç½®æ–‡ä»¶"></a>æ­¥éª¤1:å‡†å¤‡propertiesé…ç½®æ–‡ä»¶</h6><p>resourcesä¸‹åˆ›å»ºä¸€ä¸ªjdbc.propertiesæ–‡ä»¶,å¹¶æ·»åŠ å¯¹åº”çš„å±æ€§é”®å€¼å¯¹</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/spring_db</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>

<h6 id="æ­¥éª¤2-å¼€å¯contextå‘½åç©ºé—´"><a href="#æ­¥éª¤2-å¼€å¯contextå‘½åç©ºé—´" class="headerlink" title="æ­¥éª¤2:å¼€å¯contextå‘½åç©ºé—´"></a>æ­¥éª¤2:å¼€å¯<code>context</code>å‘½åç©ºé—´</h6><p>åœ¨applicationContext.xmlä¸­å¼€<code>context</code>å‘½åç©ºé—´</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="æ­¥éª¤3-åŠ è½½propertiesé…ç½®æ–‡ä»¶"><a href="#æ­¥éª¤3-åŠ è½½propertiesé…ç½®æ–‡ä»¶" class="headerlink" title="æ­¥éª¤3:åŠ è½½propertiesé…ç½®æ–‡ä»¶"></a>æ­¥éª¤3:åŠ è½½propertiesé…ç½®æ–‡ä»¶</h6><p>åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨<code>context</code>å‘½åç©ºé—´ä¸‹çš„æ ‡ç­¾æ¥åŠ è½½propertiesé…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;jdbc.properties&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="æ­¥éª¤4-å®Œæˆå±æ€§æ³¨å…¥"><a href="#æ­¥éª¤4-å®Œæˆå±æ€§æ³¨å…¥" class="headerlink" title="æ­¥éª¤4:å®Œæˆå±æ€§æ³¨å…¥"></a>æ­¥éª¤4:å®Œæˆå±æ€§æ³¨å…¥</h6><p>ä½¿ç”¨<code>$&#123;key&#125;</code>æ¥è¯»å–propertiesé…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹å¹¶å®Œæˆå±æ€§æ³¨å…¥</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œè¯»å–å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹å°±å·²ç»å®Œæˆã€‚</p>
<h4 id="1-2-2-è¯»å–å•ä¸ªå±æ€§"><a href="#1-2-2-è¯»å–å•ä¸ªå±æ€§" class="headerlink" title="1.2.2 è¯»å–å•ä¸ªå±æ€§"></a>1.2.2 è¯»å–å•ä¸ªå±æ€§</h4><h5 id="1-2-2-1-å®ç°æ€è·¯"><a href="#1-2-2-1-å®ç°æ€è·¯" class="headerlink" title="1.2.2.1 å®ç°æ€è·¯"></a>1.2.2.1 å®ç°æ€è·¯</h5><p>å¯¹äºä¸Šé¢çš„æ¡ˆä¾‹ï¼Œæ•ˆæœä¸æ˜¯å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬å¯ä»¥æ¢ä¸ªæ¡ˆä¾‹æ¥æ¼”ç¤ºä¸‹:</p>
<blockquote>
<p>éœ€æ±‚:ä»propertiesé…ç½®æ–‡ä»¶ä¸­è¯»å–keyä¸ºnameçš„å€¼ï¼Œå¹¶å°†å…¶æ³¨å…¥åˆ°BookDaoä¸­å¹¶åœ¨saveæ–¹æ³•ä¸­è¿›è¡Œæ‰“å°ã€‚</p>
<p>1.åœ¨é¡¹ç›®ä¸­æ·»åŠ BookDaoå’ŒBookDaoImplç±»</p>
<p>2.ä¸ºBookDaoImplæ·»åŠ ä¸€ä¸ªnameå±æ€§å¹¶æä¾›setteræ–¹æ³•</p>
<p>3.åœ¨jdbc.propertiesä¸­æ·»åŠ æ•°æ®æ³¨å…¥åˆ°bookDaoä¸­æ‰“å°æ–¹ä¾¿æŸ¥è¯¢ç»“æœ</p>
<p>4.åœ¨applicationContext.xmlæ·»åŠ é…ç½®å®Œæˆé…ç½®æ–‡ä»¶åŠ è½½ã€å±æ€§æ³¨å…¥(${key})</p>
</blockquote>
<h5 id="1-2-2-2-å®ç°æ­¥éª¤"><a href="#1-2-2-2-å®ç°æ­¥éª¤" class="headerlink" title="1.2.2.2 å®ç°æ­¥éª¤"></a>1.2.2.2 å®ç°æ­¥éª¤</h5><h6 id="æ­¥éª¤1-åœ¨é¡¹ç›®ä¸­æ·»å¯¹åº”çš„ç±»"><a href="#æ­¥éª¤1-åœ¨é¡¹ç›®ä¸­æ·»å¯¹åº”çš„ç±»" class="headerlink" title="æ­¥éª¤1:åœ¨é¡¹ç›®ä¸­æ·»å¯¹åº”çš„ç±»"></a>æ­¥éª¤1:åœ¨é¡¹ç›®ä¸­æ·»å¯¹åº”çš„ç±»</h6><p>BookDaoå’ŒBookDaoImplç±»ï¼Œå¹¶åœ¨BookDaoImplç±»ä¸­æ·»åŠ <code>name</code>å±æ€§ä¸setteræ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="æ­¥éª¤2-å®Œæˆé…ç½®æ–‡ä»¶çš„è¯»å–ä¸æ³¨å…¥"><a href="#æ­¥éª¤2-å®Œæˆé…ç½®æ–‡ä»¶çš„è¯»å–ä¸æ³¨å…¥" class="headerlink" title="æ­¥éª¤2:å®Œæˆé…ç½®æ–‡ä»¶çš„è¯»å–ä¸æ³¨å…¥"></a>æ­¥éª¤2:å®Œæˆé…ç½®æ–‡ä»¶çš„è¯»å–ä¸æ³¨å…¥</h6><p>åœ¨applicationContext.xmlæ·»åŠ é…ç½®ï¼Œ<code>beançš„é…ç½®ç®¡ç†</code>ã€<code>è¯»å–å¤–éƒ¨properties</code>ã€<code>ä¾èµ–æ³¨å…¥</code>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="æ­¥éª¤3-è¿è¡Œç¨‹åº-1"><a href="#æ­¥éª¤3-è¿è¡Œç¨‹åº-1" class="headerlink" title="æ­¥éª¤3:è¿è¡Œç¨‹åº"></a>æ­¥éª¤3:è¿è¡Œç¨‹åº</h6><p>åœ¨Appç±»ä¸­ï¼Œä»IOCå®¹å™¨ä¸­è·å–bookDaoå¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³•ï¼ŒæŸ¥çœ‹å€¼æ˜¯å¦å·²ç»è¢«è·å–åˆ°å¹¶æ‰“å°æ§åˆ¶å°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">        <span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> (BookDao) ctx.getBean(<span class="string">&quot;bookDao&quot;</span>);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/img_convert/947286ec39f0bf1074e940e95bcdebd9.png" alt="1629975492444"></p>
<h5 id="1-2-2-3-æ³¨æ„äº‹é¡¹"><a href="#1-2-2-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="1.2.2.3 æ³¨æ„äº‹é¡¹"></a>1.2.2.3 æ³¨æ„äº‹é¡¹</h5><p>è‡³æ­¤ï¼Œè¯»å–propertiesé…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹å°±å·²ç»å®Œæˆï¼Œä½†æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæœ‰äº›æ³¨æ„äº‹é¡¹:</p>
<ul>
<li><p>é—®é¢˜ä¸€:é”®å€¼å¯¹çš„keyä¸º<code>username</code>å¼•å‘çš„é—®é¢˜</p>
<p>1.åœ¨propertiesä¸­é…ç½®é”®å€¼å¯¹çš„æ—¶å€™ï¼Œå¦‚æœkeyè®¾ç½®ä¸º<code>username</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=root666</span><br></pre></td></tr></table></figure>

<p>2.åœ¨applicationContext.xmlæ³¨å…¥è¯¥å±æ€§</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>3.è¿è¡Œåï¼Œåœ¨æ§åˆ¶å°æ‰“å°çš„å´ä¸æ˜¯<code>root666</code>ï¼Œè€Œæ˜¯è‡ªå·±ç”µè„‘çš„ç”¨æˆ·å</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/b616c5383950b4d7f2074eaf348b7945.png" alt="1629975934694"></p>
<p>4.å‡ºç°é—®é¢˜çš„åŸå› æ˜¯<code>&lt;context:property-placeholder/&gt;</code>æ ‡ç­¾ä¼šåŠ è½½ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼Œè€Œä¸”ç¯å¢ƒå˜é‡çš„å€¼ä¼šè¢«ä¼˜å…ˆåŠ è½½ï¼Œå¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">  Map&lt;String, String&gt; env = System.getenv();</span><br><span class="line">  System.out.println(env);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤§å®¶å¯ä»¥è‡ªè¡Œè¿è¡Œï¼Œåœ¨æ‰“å°å‡ºæ¥çš„ç»“æœä¸­ä¼šæœ‰ä¸€ä¸ªUSERNAME&#x3D;XXX[è‡ªå·±ç”µè„‘çš„ç”¨æˆ·åç§°]</p>
<p>5.è§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;jdbc.properties&quot;</span> <span class="attr">system-properties-mode</span>=<span class="string">&quot;NEVER&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>system-properties-mode:è®¾ç½®ä¸ºNEVER,è¡¨ç¤ºä¸åŠ è½½ç³»ç»Ÿå±æ€§ï¼Œå°±å¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p>
<p>å½“ç„¶è¿˜æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆå°±æ˜¯é¿å…ä½¿ç”¨<code>username</code>ä½œä¸ºå±æ€§çš„<code>key</code>ã€‚</p>
</li>
<li><p>é—®é¢˜äºŒ:å½“æœ‰å¤šä¸ªpropertiesé…ç½®æ–‡ä»¶éœ€è¦è¢«åŠ è½½ï¼Œè¯¥å¦‚ä½•é…ç½®?</p>
<p>1.è°ƒæ•´ä¸‹é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼Œåœ¨resourcesä¸‹æ·»åŠ <code>jdbc.properties</code>,<code>jdbc2.properties</code>,å†…å®¹å¦‚ä¸‹:</p>
<p>jdbc.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/spring_db</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>

<p>jdbc2.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">username</span>=<span class="string">root666</span></span><br></pre></td></tr></table></figure>

<p>2.ä¿®æ”¹applicationContext.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--æ–¹å¼ä¸€ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;jdbc.properties,jdbc2.properties&quot;</span> <span class="attr">system-properties-mode</span>=<span class="string">&quot;NEVER&quot;</span>/&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--æ–¹å¼äºŒ--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;*.properties&quot;</span> <span class="attr">system-properties-mode</span>=<span class="string">&quot;NEVER&quot;</span>/&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--æ–¹å¼ä¸‰ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:*.properties&quot;</span> <span class="attr">system-properties-mode</span>=<span class="string">&quot;NEVER&quot;</span>/&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--æ–¹å¼å››--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath*:*.properties&quot;</span> <span class="attr">system-properties-mode</span>=<span class="string">&quot;NEVER&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span>	</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>æ–¹å¼ä¸€:å¯ä»¥å®ç°ï¼Œå¦‚æœé…ç½®æ–‡ä»¶å¤šçš„è¯ï¼Œæ¯ä¸ªéƒ½éœ€è¦é…ç½®</li>
<li>æ–¹å¼äºŒ:<code>*.properties</code>ä»£è¡¨æ‰€æœ‰ä»¥propertiesç»“å°¾çš„æ–‡ä»¶éƒ½ä¼šè¢«åŠ è½½ï¼Œå¯ä»¥è§£å†³æ–¹å¼ä¸€çš„é—®é¢˜ï¼Œä½†æ˜¯ä¸æ ‡å‡†</li>
<li>æ–¹å¼ä¸‰:æ ‡å‡†çš„å†™æ³•ï¼Œ<code>classpath:</code>ä»£è¡¨çš„æ˜¯ä»æ ¹è·¯å¾„ä¸‹å¼€å§‹æŸ¥æ‰¾ï¼Œä½†æ˜¯åªèƒ½æŸ¥è¯¢å½“å‰é¡¹ç›®çš„æ ¹è·¯å¾„</li>
<li>æ–¹å¼å››:ä¸ä»…å¯ä»¥åŠ è½½å½“å‰é¡¹ç›®è¿˜å¯ä»¥åŠ è½½å½“å‰é¡¹ç›®æ‰€ä¾èµ–çš„æ‰€æœ‰é¡¹ç›®çš„æ ¹è·¯å¾„ä¸‹çš„propertiesé…ç½®æ–‡ä»¶</li>
</ul>
</li>
</ul>
<h4 id="1-2-3-åŠ è½½propertiesæ–‡ä»¶å°ç»“"><a href="#1-2-3-åŠ è½½propertiesæ–‡ä»¶å°ç»“" class="headerlink" title="1.2.3 åŠ è½½propertiesæ–‡ä»¶å°ç»“"></a>1.2.3 åŠ è½½propertiesæ–‡ä»¶å°ç»“</h4><p>æœ¬èŠ‚ä¸»è¦è®²è§£çš„æ˜¯propertiesé…ç½®æ–‡ä»¶çš„åŠ è½½ï¼Œéœ€è¦æŒæ¡çš„å†…å®¹æœ‰:</p>
<ul>
<li><p>å¦‚ä½•å¼€å¯<code>context</code>å‘½åç©ºé—´</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/d6f84d2c908b2fd7267e0aa076af1d73.png" alt="1629980280952"></p>
</li>
<li><p>å¦‚ä½•åŠ è½½propertiesé…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;&quot;</span> <span class="attr">system-properties-mode</span>=<span class="string">&quot;NEVER&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚ä½•åœ¨applicationContext.xmlå¼•å…¥propertiesé…ç½®æ–‡ä»¶ä¸­çš„å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;key&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2ï¼Œæ ¸å¿ƒå®¹å™¨"><a href="#2ï¼Œæ ¸å¿ƒå®¹å™¨" class="headerlink" title="2ï¼Œæ ¸å¿ƒå®¹å™¨"></a>2ï¼Œæ ¸å¿ƒå®¹å™¨</h2><p>å‰é¢å·²ç»å®Œæˆbeanä¸ä¾èµ–æ³¨å…¥çš„ç›¸å…³çŸ¥è¯†å­¦ä¹ ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¸»è¦å­¦ä¹ çš„æ˜¯IOCå®¹å™¨ä¸­çš„æ ¸å¿ƒå®¹å™¨ã€‚</p>
<p>è¿™é‡Œæ‰€è¯´çš„æ ¸å¿ƒå®¹å™¨ï¼Œå¤§å®¶å¯ä»¥æŠŠå®ƒç®€å•çš„ç†è§£ä¸º<code>ApplicationContext</code>ï¼Œå‰é¢è™½ç„¶å·²ç»ç”¨åˆ°è¿‡ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç³»ç»Ÿçš„å­¦ä¹ ï¼Œæ¥ä¸‹æ¥å’±ä»¬ä»ä»¥ä¸‹å‡ ä¸ªé—®é¢˜å…¥æ‰‹æ¥å­¦ä¹ ä¸‹å®¹å™¨çš„ç›¸å…³çŸ¥è¯†:</p>
<ul>
<li>å¦‚ä½•åˆ›å»ºå®¹å™¨?</li>
<li>åˆ›å»ºå¥½å®¹å™¨åï¼Œå¦‚ä½•ä»å®¹å™¨ä¸­è·å–beanå¯¹è±¡?</li>
<li>å®¹å™¨ç±»çš„å±‚æ¬¡ç»“æ„æ˜¯ä»€ä¹ˆ?</li>
<li>BeanFactoryæ˜¯ä»€ä¹ˆ?</li>
</ul>
<h3 id="2-1-ç¯å¢ƒå‡†å¤‡"><a href="#2-1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="2.1 ç¯å¢ƒå‡†å¤‡"></a>2.1 ç¯å¢ƒå‡†å¤‡</h3><p>åœ¨å­¦ä¹ å’Œè§£å†³ä¸Šè¿°é—®é¢˜ä¹‹å‰ï¼Œå…ˆæ¥å‡†å¤‡ä¸‹æ¡ˆä¾‹ç¯å¢ƒ:</p>
<ul>
<li><p>åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®</p>
</li>
<li><p>pom.xmlæ·»åŠ Springçš„ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>resourcesä¸‹æ·»åŠ applicationContext.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ BookDaoå’ŒBookDaoImplç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;book dao save ...&quot;</span> );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºè¿è¡Œç±»App</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">      <span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> (BookDao) ctx.getBean(<span class="string">&quot;bookDao&quot;</span>);</span><br><span class="line">      bookDao.save();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>æœ€ç»ˆåˆ›å»ºå¥½çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/a449d6d47766cf2f584bd0b86c797b6f.png" alt="1629982672522"></p>
<h3 id="2-2-å®¹å™¨"><a href="#2-2-å®¹å™¨" class="headerlink" title="2.2 å®¹å™¨"></a>2.2 å®¹å™¨</h3><h4 id="2-2-1-å®¹å™¨çš„åˆ›å»ºæ–¹å¼"><a href="#2-2-1-å®¹å™¨çš„åˆ›å»ºæ–¹å¼" class="headerlink" title="2.2.1 å®¹å™¨çš„åˆ›å»ºæ–¹å¼"></a>2.2.1 å®¹å™¨çš„åˆ›å»ºæ–¹å¼</h4><p>æ¡ˆä¾‹ä¸­åˆ›å»º<code>ApplicationContext</code>çš„æ–¹å¼ä¸º:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼ç¿»è¯‘ä¸º:ç±»è·¯å¾„ä¸‹çš„XMLé…ç½®æ–‡ä»¶</p>
<p>é™¤äº†ä¸Šé¢è¿™ç§æ–¹å¼ï¼ŒSpringè¿˜æä¾›äº†å¦å¤–ä¸€ç§åˆ›å»ºæ–¹å¼ä¸º:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSystemXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼ç¿»è¯‘ä¸º:æ–‡ä»¶ç³»ç»Ÿä¸‹çš„XMLé…ç½®æ–‡ä»¶</p>
<p>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œè¿è¡Œï¼Œä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/0df510b9098a864d3979b7b2a7210d25.png" alt="1629983245121"></p>
<p>ä»é”™è¯¯ä¿¡æ¯ä¸­èƒ½å‘ç°ï¼Œè¿™ç§æ–¹å¼æ˜¯ä»é¡¹ç›®è·¯å¾„ä¸‹å¼€å§‹æŸ¥æ‰¾<code>applicationContext.xml</code>é…ç½®æ–‡ä»¶çš„ï¼Œæ‰€ä»¥éœ€è¦å°†å…¶ä¿®æ”¹ä¸º:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSystemXmlApplicationContext</span>(<span class="string">&quot;D:\\workspace\\spring\\spring_10_container\\src\\main\\resources\\applicationContext.xml&quot;</span>); </span><br></pre></td></tr></table></figure>

<p>**è¯´æ˜:**å¤§å®¶ç»ƒä¹ çš„æ—¶å€™ï¼Œå†™è‡ªå·±çš„å…·ä½“è·¯å¾„ã€‚</p>
<p>è¿™ç§æ–¹å¼è™½èƒ½å®ç°ï¼Œä½†æ˜¯å½“é¡¹ç›®çš„ä½ç½®å‘ç”Ÿå˜åŒ–å,ä»£ç ä¹Ÿéœ€è¦è·Ÿç€æ”¹,è€¦åˆåº¦è¾ƒé«˜,ä¸æ¨èä½¿ç”¨ã€‚</p>
<h4 id="2-2-2-Beançš„ä¸‰ç§è·å–æ–¹å¼"><a href="#2-2-2-Beançš„ä¸‰ç§è·å–æ–¹å¼" class="headerlink" title="2.2.2 Beançš„ä¸‰ç§è·å–æ–¹å¼"></a>2.2.2 Beançš„ä¸‰ç§è·å–æ–¹å¼</h4><p>æ–¹å¼ä¸€ï¼Œå°±æ˜¯ç›®å‰æ¡ˆä¾‹ä¸­è·å–çš„æ–¹å¼:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> (BookDao) ctx.getBean(<span class="string">&quot;bookDao&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼å­˜åœ¨çš„é—®é¢˜æ˜¯æ¯æ¬¡è·å–çš„æ—¶å€™éƒ½éœ€è¦è¿›è¡Œç±»å‹è½¬æ¢ï¼Œæœ‰æ²¡æœ‰æ›´ç®€å•çš„æ–¹å¼å‘¢?</p>
<p>æ–¹å¼äºŒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BookDao bookDao = ctx.getBean(&quot;bookDao&quot;ï¼ŒBookDao.class);</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼å¯ä»¥è§£å†³ç±»å‹å¼ºè½¬é—®é¢˜ï¼Œä½†æ˜¯å‚æ•°åˆå¤šåŠ äº†ä¸€ä¸ªï¼Œç›¸å¯¹æ¥è¯´æ²¡æœ‰ç®€åŒ–å¤šå°‘ã€‚</p>
<p>æ–¹å¼ä¸‰:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BookDao bookDao = ctx.getBean(BookDao.class);</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼å°±ç±»ä¼¼æˆ‘ä»¬ä¹‹å‰æ‰€å­¦ä¹ ä¾èµ–æ³¨å…¥ä¸­çš„æŒ‰ç±»å‹æ³¨å…¥ã€‚å¿…é¡»è¦ç¡®ä¿IOCå®¹å™¨ä¸­è¯¥ç±»å‹å¯¹åº”çš„beanå¯¹è±¡<strong>åªèƒ½æœ‰ä¸€ä¸ª</strong>ã€‚</p>
<h4 id="2-2-3-å®¹å™¨ç±»å±‚æ¬¡ç»“æ„"><a href="#2-2-3-å®¹å™¨ç±»å±‚æ¬¡ç»“æ„" class="headerlink" title="2.2.3 å®¹å™¨ç±»å±‚æ¬¡ç»“æ„"></a>2.2.3 å®¹å™¨ç±»å±‚æ¬¡ç»“æ„</h4><p>(1)åœ¨IDEAä¸­åŒå‡»<code>shift</code>,è¾“å…¥BeanFactory</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/b3cc0a81c37c7b77c0c5f31323a98d7f.png" alt="1629985148294"></p>
<p>(2)ç‚¹å‡»è¿›å…¥BeanFactoryç±»ï¼Œctrl+h,å°±èƒ½æŸ¥çœ‹åˆ°å¦‚ä¸‹ç»“æ„çš„å±‚æ¬¡å…³ç³»</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/3aa45ef906dabafab4203cd45360defe.png" alt="1629984980781"></p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå®¹å™¨ç±»ä¹Ÿæ˜¯ä»æ— åˆ°æœ‰æ ¹æ®éœ€è¦ä¸€å±‚å±‚å åŠ ä¸Šæ¥çš„ï¼Œå¤§å®¶é‡ç‚¹ç†è§£ä¸‹è¿™ç§è®¾è®¡æ€æƒ³ã€‚</p>
<h4 id="2-2-4-BeanFactoryçš„ä½¿ç”¨"><a href="#2-2-4-BeanFactoryçš„ä½¿ç”¨" class="headerlink" title="2.2.4 BeanFactoryçš„ä½¿ç”¨"></a>2.2.4 BeanFactoryçš„ä½¿ç”¨</h4><p>ä½¿ç”¨BeanFactoryæ¥åˆ›å»ºIOCå®¹å™¨çš„å…·ä½“å®ç°æ–¹å¼ä¸º:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppForBeanFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Resource</span> <span class="variable">resources</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">        <span class="type">BeanFactory</span> <span class="variable">bf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XmlBeanFactory</span>(resources);</span><br><span class="line">        <span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> bf.getBean(BookDao.class);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†æ›´å¥½çš„çœ‹å‡º<code>BeanFactory</code>å’Œ<code>ApplicationContext</code>ä¹‹é—´çš„åŒºåˆ«ï¼Œåœ¨BookDaoImplæ·»åŠ å¦‚ä¸‹æ„é€ å‡½æ•°:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BookDaoImpl</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;constructor&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸å»è·å–beanå¯¹è±¡ï¼Œæ‰“å°ä¼šå‘ç°ï¼š</p>
<ul>
<li><p>BeanFactoryæ˜¯å»¶è¿ŸåŠ è½½ï¼Œåªæœ‰åœ¨è·å–beanå¯¹è±¡çš„æ—¶å€™æ‰ä¼šå»åˆ›å»º</p>
</li>
<li><p>ApplicationContextæ˜¯ç«‹å³åŠ è½½ï¼Œå®¹å™¨åŠ è½½çš„æ—¶å€™å°±ä¼šåˆ›å»ºbeanå¯¹è±¡</p>
</li>
<li><p>ApplicationContextè¦æƒ³æˆä¸ºå»¶è¿ŸåŠ è½½ï¼Œåªéœ€è¦æŒ‰ç…§å¦‚ä¸‹æ–¹å¼è¿›è¡Œé…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span>  <span class="attr">lazy-init</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>å°ç»“</strong></p>
<p>è¿™ä¸€èŠ‚ä¸­æ‰€è®²çš„çŸ¥è¯†ç‚¹åŒ…æ‹¬:</p>
<ul>
<li><p>å®¹å™¨åˆ›å»ºçš„ä¸¤ç§æ–¹å¼</p>
<ul>
<li>ClassPathXmlApplicationContext[æŒæ¡]</li>
<li>FileSystemXmlApplicationContext[çŸ¥é“å³å¯]</li>
</ul>
</li>
<li><p>è·å–Beançš„ä¸‰ç§æ–¹å¼</p>
<ul>
<li>getBean(â€œåç§°â€):éœ€è¦ç±»å‹è½¬æ¢</li>
<li>getBean(â€œåç§°â€,ç±»å‹.class):å¤šäº†ä¸€ä¸ªå‚æ•°</li>
<li>getBean(ç±»å‹.class):å®¹å™¨ä¸­ä¸èƒ½æœ‰å¤šä¸ªè¯¥ç±»çš„beanå¯¹è±¡</li>
</ul>
<p>ä¸Šè¿°ä¸‰ç§æ–¹å¼ï¼Œå„æœ‰å„çš„ä¼˜ç¼ºç‚¹ï¼Œç”¨å“ªä¸ªéƒ½å¯ä»¥ã€‚</p>
</li>
<li><p>å®¹å™¨ç±»å±‚æ¬¡ç»“æ„</p>
<ul>
<li>åªéœ€è¦çŸ¥æ™“å®¹å™¨çš„æœ€ä¸Šçº§çš„çˆ¶æ¥å£ä¸º BeanFactoryå³å¯</li>
</ul>
</li>
<li><p>BeanFactory</p>
<ul>
<li>ä½¿ç”¨BeanFactoryåˆ›å»ºçš„å®¹å™¨æ˜¯å»¶è¿ŸåŠ è½½</li>
<li>ä½¿ç”¨ApplicationContextåˆ›å»ºçš„å®¹å™¨æ˜¯ç«‹å³åŠ è½½</li>
<li>å…·ä½“BeanFactoryå¦‚ä½•åˆ›å»ºåªéœ€è¦äº†è§£å³å¯ã€‚</li>
</ul>
</li>
</ul>
<h3 id="2-2-æ ¸å¿ƒå®¹å™¨æ€»ç»“"><a href="#2-2-æ ¸å¿ƒå®¹å™¨æ€»ç»“" class="headerlink" title="2.2 æ ¸å¿ƒå®¹å™¨æ€»ç»“"></a>2.2 æ ¸å¿ƒå®¹å™¨æ€»ç»“</h3><p>è¿™èŠ‚ä¸­æ²¡æœ‰æ–°çš„çŸ¥è¯†ç‚¹ï¼Œåªæ˜¯å¯¹å‰é¢çŸ¥è¯†çš„ä¸€ä¸ªå¤§æ€»ç»“ï¼Œå…±åŒ…å«å¦‚ä¸‹å†…å®¹:</p>
<h4 id="2-2-1-å®¹å™¨ç›¸å…³"><a href="#2-2-1-å®¹å™¨ç›¸å…³" class="headerlink" title="2.2.1 å®¹å™¨ç›¸å…³"></a>2.2.1 å®¹å™¨ç›¸å…³</h4><ul>
<li>BeanFactoryæ˜¯IoCå®¹å™¨çš„é¡¶å±‚æ¥å£ï¼Œåˆå§‹åŒ–BeanFactoryå¯¹è±¡æ—¶ï¼ŒåŠ è½½çš„beanå»¶è¿ŸåŠ è½½</li>
<li>ApplicationContextæ¥å£æ˜¯Springå®¹å™¨çš„æ ¸å¿ƒæ¥å£ï¼Œåˆå§‹åŒ–æ—¶beanç«‹å³åŠ è½½</li>
<li>ApplicationContextæ¥å£æä¾›åŸºç¡€çš„beanæ“ä½œç›¸å…³æ–¹æ³•ï¼Œé€šè¿‡å…¶ä»–æ¥å£æ‰©å±•å…¶åŠŸèƒ½</li>
<li>ApplicationContextæ¥å£å¸¸ç”¨åˆå§‹åŒ–ç±»<ul>
<li><strong>ClassPathXmlApplicationContext(å¸¸ç”¨)</strong></li>
<li>FileSystemXmlApplicationContext</li>
</ul>
</li>
</ul>
<h4 id="2-2-2-beanç›¸å…³"><a href="#2-2-2-beanç›¸å…³" class="headerlink" title="2.2.2 beanç›¸å…³"></a>2.2.2 beanç›¸å…³</h4><p><img src="https://img-blog.csdnimg.cn/img_convert/24ed671a8058cd94b67094cf7cee9795.png" alt="1629986510487"></p>
<p>å…¶å®æ•´ä¸ªé…ç½®ä¸­æœ€å¸¸ç”¨çš„å°±ä¸¤ä¸ªå±æ€§idå’Œclassã€‚</p>
<p>æŠŠscopeã€init-methodã€destroy-methodæ¡†èµ·æ¥çš„åŸå› æ˜¯ï¼Œåé¢æ³¨è§£åœ¨è®²è§£çš„æ—¶å€™è¿˜ä¼šç”¨åˆ°ï¼Œæ‰€ä»¥å¤§å®¶å¯¹è¿™ä¸‰ä¸ªå±æ€§å…³æ³¨ä¸‹ã€‚</p>
<h4 id="2-2-3-ä¾èµ–æ³¨å…¥ç›¸å…³"><a href="#2-2-3-ä¾èµ–æ³¨å…¥ç›¸å…³" class="headerlink" title="2.2.3 ä¾èµ–æ³¨å…¥ç›¸å…³"></a>2.2.3 ä¾èµ–æ³¨å…¥ç›¸å…³</h4><p><img src="https://img-blog.csdnimg.cn/img_convert/ac389b15379ce8c5f4e32a5dd99609bf.png" alt="1629986848563"></p>
<h2 id="3ï¼ŒIOC-x2F-DIæ³¨è§£å¼€å‘"><a href="#3ï¼ŒIOC-x2F-DIæ³¨è§£å¼€å‘" class="headerlink" title="3ï¼ŒIOC&#x2F;DIæ³¨è§£å¼€å‘"></a>3ï¼ŒIOC&#x2F;DIæ³¨è§£å¼€å‘</h2><p>Springçš„IOC&#x2F;DIå¯¹åº”çš„é…ç½®å¼€å‘å°±å·²ç»è®²è§£å®Œæˆï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥ç›¸å¯¹æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¤æ‚çš„åœ°æ–¹åœ¨é…ç½®æ–‡ä»¶ã€‚</p>
<p>å‰é¢å’±ä»¬èŠSpringçš„æ—¶å€™è¯´è¿‡ï¼ŒSpringå¯ä»¥ç®€åŒ–ä»£ç çš„å¼€å‘ï¼Œåˆ°ç°åœ¨å¹¶æ²¡æœ‰ä½“ä¼šåˆ°ã€‚</p>
<p>æ‰€ä»¥Springåˆ°åº•æ˜¯å¦‚ä½•ç®€åŒ–ä»£ç å¼€å‘çš„å‘¢?</p>
<p>è¦æƒ³çœŸæ­£ç®€åŒ–å¼€å‘ï¼Œå°±éœ€è¦ç”¨åˆ°Springçš„æ³¨è§£å¼€å‘ï¼ŒSpringå¯¹æ³¨è§£æ”¯æŒçš„ç‰ˆæœ¬å†ç¨‹:</p>
<ul>
<li>2.0ç‰ˆå¼€å§‹æ”¯æŒæ³¨è§£</li>
<li>2.5ç‰ˆæ³¨è§£åŠŸèƒ½è¶‹äºå®Œå–„</li>
<li>3.0ç‰ˆæ”¯æŒçº¯æ³¨è§£å¼€å‘</li>
</ul>
<p>å…³äºæ³¨è§£å¼€å‘ï¼Œæˆ‘ä»¬ä¼šè®²è§£ä¸¤å—å†…å®¹<code>æ³¨è§£å¼€å‘å®šä¹‰bean</code>å’Œ<code>çº¯æ³¨è§£å¼€å‘</code>ã€‚</p>
<p>æ³¨è§£å¼€å‘å®šä¹‰beanç”¨çš„æ˜¯2.5ç‰ˆæä¾›çš„æ³¨è§£ï¼Œçº¯æ³¨è§£å¼€å‘ç”¨çš„æ˜¯3.0ç‰ˆæä¾›çš„æ³¨è§£ã€‚</p>
<h3 id="3-1-ç¯å¢ƒå‡†å¤‡"><a href="#3-1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="3.1 ç¯å¢ƒå‡†å¤‡"></a>3.1 ç¯å¢ƒå‡†å¤‡</h3><p>åœ¨å­¦ä¹ æ³¨è§£å¼€å‘ä¹‹å‰ï¼Œå…ˆæ¥å‡†å¤‡ä¸‹æ¡ˆä¾‹ç¯å¢ƒ:</p>
<ul>
<li><p>åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®</p>
</li>
<li><p>pom.xmlæ·»åŠ Springçš„ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>resourcesä¸‹æ·»åŠ applicationContext.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">          http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ BookDaoã€BookDaoImplã€BookServiceã€BookServiceImplç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;book dao save ...&quot;</span> );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;book service save ...&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºè¿è¡Œç±»App</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">      <span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> (BookDao) ctx.getBean(<span class="string">&quot;bookDao&quot;</span>);</span><br><span class="line">      bookDao.save();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>æœ€ç»ˆåˆ›å»ºå¥½çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/db6838bf50bf4454fb8a867fd5da8221.png" alt="1629989221808"></p>
<h3 id="3-2-æ³¨è§£å¼€å‘å®šä¹‰bean"><a href="#3-2-æ³¨è§£å¼€å‘å®šä¹‰bean" class="headerlink" title="3.2 æ³¨è§£å¼€å‘å®šä¹‰bean"></a>3.2 æ³¨è§£å¼€å‘å®šä¹‰bean</h3><p>åœ¨ä¸Šè¿°ç¯å¢ƒçš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬æ¥å­¦ä¸€å­¦Springæ˜¯å¦‚ä½•é€šè¿‡æ³¨è§£å®ç°beançš„å®šä¹‰å¼€å‘?</p>
<h4 id="æ­¥éª¤1-åˆ é™¤åŸXMLé…ç½®"><a href="#æ­¥éª¤1-åˆ é™¤åŸXMLé…ç½®" class="headerlink" title="æ­¥éª¤1:åˆ é™¤åŸXMLé…ç½®"></a>æ­¥éª¤1:åˆ é™¤åŸXMLé…ç½®</h4><p>å°†é…ç½®æ–‡ä»¶ä¸­çš„<code>&lt;bean&gt;</code>æ ‡ç­¾åˆ é™¤æ‰</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="æ­¥éª¤2-Daoä¸Šæ·»åŠ æ³¨è§£"><a href="#æ­¥éª¤2-Daoä¸Šæ·»åŠ æ³¨è§£" class="headerlink" title="æ­¥éª¤2:Daoä¸Šæ·»åŠ æ³¨è§£"></a>æ­¥éª¤2:Daoä¸Šæ·»åŠ æ³¨è§£</h4><p>åœ¨BookDaoImplç±»ä¸Šæ·»åŠ <code>@Component</code>æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(&quot;bookDao&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„:@Componentæ³¨è§£ä¸å¯ä»¥æ·»åŠ åœ¨æ¥å£ä¸Šï¼Œå› ä¸ºæ¥å£æ˜¯æ— æ³•åˆ›å»ºå¯¹è±¡çš„ã€‚</p>
<p>XMLä¸æ³¨è§£é…ç½®çš„å¯¹åº”å…³ç³»:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/c77e99f64f4e0092630c1c9bedf53b38.png" alt="1629990315619"></p>
<h4 id="æ­¥éª¤3-é…ç½®Springçš„æ³¨è§£åŒ…æ‰«æ"><a href="#æ­¥éª¤3-é…ç½®Springçš„æ³¨è§£åŒ…æ‰«æ" class="headerlink" title="æ­¥éª¤3:é…ç½®Springçš„æ³¨è§£åŒ…æ‰«æ"></a>æ­¥éª¤3:é…ç½®Springçš„æ³¨è§£åŒ…æ‰«æ</h4><p>ä¸ºäº†è®©Springæ¡†æ¶èƒ½å¤Ÿæ‰«æåˆ°å†™åœ¨ç±»ä¸Šçš„æ³¨è§£ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸Šè¿›è¡ŒåŒ…æ‰«æ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.itheima&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<p>component-scan</p>
<ul>
<li>component:ç»„ä»¶,Springå°†ç®¡ç†çš„beanè§†ä½œè‡ªå·±çš„ä¸€ä¸ªç»„ä»¶</li>
<li>scan:æ‰«æ</li>
</ul>
<p>base-packageæŒ‡å®šSpringæ¡†æ¶æ‰«æçš„åŒ…è·¯å¾„ï¼Œå®ƒä¼šæ‰«ææŒ‡å®šåŒ…åŠå…¶å­åŒ…ä¸­çš„æ‰€æœ‰ç±»ä¸Šçš„æ³¨è§£ã€‚</p>
<ul>
<li>åŒ…è·¯å¾„è¶Šå¤š[å¦‚:com.itheima.dao.impl]ï¼Œæ‰«æçš„èŒƒå›´è¶Šå°é€Ÿåº¦è¶Šå¿«</li>
<li>åŒ…è·¯å¾„è¶Šå°‘[å¦‚:com.itheima],æ‰«æçš„èŒƒå›´è¶Šå¤§é€Ÿåº¦è¶Šæ…¢</li>
<li>ä¸€èˆ¬æ‰«æåˆ°é¡¹ç›®çš„ç»„ç»‡åç§°å³Mavençš„groupIdä¸‹[å¦‚:com.itheima]å³å¯ã€‚</li>
</ul>
<h4 id="æ­¥éª¤4ï¼šè¿è¡Œç¨‹åº"><a href="#æ­¥éª¤4ï¼šè¿è¡Œç¨‹åº" class="headerlink" title="æ­¥éª¤4ï¼šè¿è¡Œç¨‹åº"></a>æ­¥éª¤4ï¼šè¿è¡Œç¨‹åº</h4><p>è¿è¡Œ<code>App</code>ç±»æŸ¥çœ‹æ‰“å°ç»“æœ</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/11731943e83a4cd1510ce2d78cc34af8.png" alt="1630027590558"></p>
<h4 id="æ­¥éª¤5-Serviceä¸Šæ·»åŠ æ³¨è§£"><a href="#æ­¥éª¤5-Serviceä¸Šæ·»åŠ æ³¨è§£" class="headerlink" title="æ­¥éª¤5:Serviceä¸Šæ·»åŠ æ³¨è§£"></a>æ­¥éª¤5:Serviceä¸Šæ·»åŠ æ³¨è§£</h4><p>åœ¨BookServiceImplç±»ä¸Šä¹Ÿæ·»åŠ <code>@Component</code>äº¤ç»™Springæ¡†æ¶ç®¡ç†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookDao</span><span class="params">(BookDao bookDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bookDao = bookDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book service save ...&quot;</span>);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ­¥éª¤6-è¿è¡Œç¨‹åº"><a href="#æ­¥éª¤6-è¿è¡Œç¨‹åº" class="headerlink" title="æ­¥éª¤6:è¿è¡Œç¨‹åº"></a>æ­¥éª¤6:è¿è¡Œç¨‹åº</h4><p>åœ¨Appç±»ä¸­ï¼Œä»IOCå®¹å™¨ä¸­è·å–BookServiceImplå¯¹åº”çš„beanå¯¹è±¡ï¼Œæ‰“å°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">        <span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> (BookDao) ctx.getBean(<span class="string">&quot;bookDao&quot;</span>);</span><br><span class="line">        System.out.println(bookDao);</span><br><span class="line">        <span class="comment">//æŒ‰ç±»å‹è·å–bean</span></span><br><span class="line">        <span class="type">BookService</span> <span class="variable">bookService</span> <span class="operator">=</span> ctx.getBean(BookService.class);</span><br><span class="line">        System.out.println(bookService);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“å°è§‚å¯Ÿç»“æœï¼Œä¸¤ä¸ªbeanå¯¹è±¡éƒ½å·²ç»æ‰“å°åˆ°æ§åˆ¶å°</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/3ec5c33c8fabfd8a4db97d182af33f17.png" alt="1630027743910"></p>
<p><strong>è¯´æ˜:</strong></p>
<ul>
<li><p>BookServiceImplç±»æ²¡æœ‰èµ·åç§°ï¼Œæ‰€ä»¥åœ¨Appä¸­æ˜¯æŒ‰ç…§ç±»å‹æ¥è·å–beanå¯¹è±¡</p>
</li>
<li><p>@Componentæ³¨è§£å¦‚æœä¸èµ·åç§°ï¼Œä¼šæœ‰ä¸€ä¸ªé»˜è®¤å€¼å°±æ˜¯<code>å½“å‰ç±»åé¦–å­—æ¯å°å†™</code>ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥æŒ‰ç…§åç§°è·å–ï¼Œå¦‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BookService</span> <span class="variable">bookService</span> <span class="operator">=</span> (BookService)ctx.getBean(<span class="string">&quot;bookServiceImpl&quot;</span>);</span><br><span class="line">System.out.println(bookService);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>å¯¹äº@Componentæ³¨è§£ï¼Œè¿˜è¡ç”Ÿå‡ºäº†å…¶ä»–ä¸‰ä¸ªæ³¨è§£<code>@Controller</code>ã€<code>@Service</code>ã€<code>@Repository</code></p>
<p>é€šè¿‡æŸ¥çœ‹æºç ä¼šå‘ç°:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/ee02077cae8e9fbe3c629cf9ec989b80.png" alt="1630028345074"></p>
<p>è¿™ä¸‰ä¸ªæ³¨è§£å’Œ@Componentæ³¨è§£çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œä¸ºä»€ä¹ˆè¦è¡ç”Ÿå‡ºè¿™ä¸‰ä¸ªå‘¢?</p>
<p>æ–¹ä¾¿æˆ‘ä»¬åæœŸåœ¨ç¼–å†™ç±»çš„æ—¶å€™èƒ½å¾ˆå¥½çš„åŒºåˆ†å‡ºè¿™ä¸ªç±»æ˜¯å±äº<code>è¡¨ç°å±‚</code>ã€<code>ä¸šåŠ¡å±‚</code>è¿˜æ˜¯<code>æ•°æ®å±‚</code>çš„ç±»ã€‚</p>
<h4 id="çŸ¥è¯†ç‚¹1-Componentç­‰"><a href="#çŸ¥è¯†ç‚¹1-Componentç­‰" class="headerlink" title="çŸ¥è¯†ç‚¹1:@Componentç­‰"></a>çŸ¥è¯†ç‚¹1:@Componentç­‰</h4><table>
<thead>
<tr>
<th>åç§°</th>
<th>@Component&#x2F;@Controller&#x2F;@Service&#x2F;@Repository</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>ç±»æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>ç±»å®šä¹‰ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>è®¾ç½®è¯¥ç±»ä¸ºspringç®¡ç†çš„bean</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>valueï¼ˆé»˜è®¤ï¼‰ï¼šå®šä¹‰beançš„id</td>
</tr>
</tbody></table>
<h3 id="3-2-çº¯æ³¨è§£å¼€å‘æ¨¡å¼"><a href="#3-2-çº¯æ³¨è§£å¼€å‘æ¨¡å¼" class="headerlink" title="3.2 çº¯æ³¨è§£å¼€å‘æ¨¡å¼"></a>3.2 çº¯æ³¨è§£å¼€å‘æ¨¡å¼</h3><p>ä¸Šé¢å·²ç»å¯ä»¥ä½¿ç”¨æ³¨è§£æ¥é…ç½®bean,ä½†æ˜¯ä¾ç„¶æœ‰ç”¨åˆ°é…ç½®æ–‡ä»¶ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­å¯¹åŒ…è¿›è¡Œäº†æ‰«æï¼ŒSpringåœ¨3.0ç‰ˆå·²ç»æ”¯æŒçº¯æ³¨è§£å¼€å‘</p>
<ul>
<li>Spring3.0å¼€å¯äº†çº¯æ³¨è§£å¼€å‘æ¨¡å¼ï¼Œä½¿ç”¨Javaç±»æ›¿ä»£é…ç½®æ–‡ä»¶ï¼Œå¼€å¯äº†Springå¿«é€Ÿå¼€å‘èµ›é“</li>
</ul>
<p>å…·ä½“å¦‚ä½•å®ç°?</p>
<h4 id="3-2-1-æ€è·¯åˆ†æ"><a href="#3-2-1-æ€è·¯åˆ†æ" class="headerlink" title="3.2.1 æ€è·¯åˆ†æ"></a>3.2.1 æ€è·¯åˆ†æ</h4><p>å®ç°æ€è·¯ä¸º:</p>
<ul>
<li>å°†é…ç½®æ–‡ä»¶applicationContext.xmlåˆ é™¤æ‰ï¼Œä½¿ç”¨ç±»æ¥æ›¿æ¢ã€‚</li>
</ul>
<h4 id="3-2-2-å®ç°æ­¥éª¤"><a href="#3-2-2-å®ç°æ­¥éª¤" class="headerlink" title="3.2.2 å®ç°æ­¥éª¤"></a>3.2.2 å®ç°æ­¥éª¤</h4><h5 id="æ­¥éª¤1-åˆ›å»ºé…ç½®ç±»"><a href="#æ­¥éª¤1-åˆ›å»ºé…ç½®ç±»" class="headerlink" title="æ­¥éª¤1:åˆ›å»ºé…ç½®ç±»"></a>æ­¥éª¤1:åˆ›å»ºé…ç½®ç±»</h5><p>åˆ›å»ºä¸€ä¸ªé…ç½®ç±»<code>SpringConfig</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤2-æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»"><a href="#æ­¥éª¤2-æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»" class="headerlink" title="æ­¥éª¤2:æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»"></a>æ­¥éª¤2:æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»</h5><p>åœ¨é…ç½®ç±»ä¸Šæ·»åŠ <code>@Configuration</code>æ³¨è§£ï¼Œå°†å…¶æ ‡è¯†ä¸ºä¸€ä¸ªé…ç½®ç±»,æ›¿æ¢<code>applicationContext.xml</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤3-ç”¨æ³¨è§£æ›¿æ¢åŒ…æ‰«æé…ç½®"><a href="#æ­¥éª¤3-ç”¨æ³¨è§£æ›¿æ¢åŒ…æ‰«æé…ç½®" class="headerlink" title="æ­¥éª¤3:ç”¨æ³¨è§£æ›¿æ¢åŒ…æ‰«æé…ç½®"></a>æ­¥éª¤3:ç”¨æ³¨è§£æ›¿æ¢åŒ…æ‰«æé…ç½®</h5><p>åœ¨é…ç½®ç±»ä¸Šæ·»åŠ åŒ…æ‰«ææ³¨è§£<code>@ComponentScan</code>æ›¿æ¢<code>&lt;context:component-scan base-package=&quot;&quot;/&gt;</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤4-åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ"><a href="#æ­¥éª¤4-åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ" class="headerlink" title="æ­¥éª¤4:åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ"></a>æ­¥éª¤4:åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ</h5><p>åˆ›å»ºä¸€ä¸ªæ–°çš„è¿è¡Œç±»<code>AppForAnnotation</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppForAnnotation</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">        <span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> (BookDao) ctx.getBean(<span class="string">&quot;bookDao&quot;</span>);</span><br><span class="line">        System.out.println(bookDao);</span><br><span class="line">        <span class="type">BookService</span> <span class="variable">bookService</span> <span class="operator">=</span> ctx.getBean(BookService.class);</span><br><span class="line">        System.out.println(bookService);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡ŒAppForAnnotation,å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªå¯¹è±¡ä¾ç„¶è¢«è·å–æˆåŠŸ</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/724e94773804ae0cd1165830c9b5ef25.png" alt="1630029110506"></p>
<p>è‡³æ­¤ï¼Œçº¯æ³¨è§£å¼€å‘çš„æ–¹å¼å°±å·²ç»å®Œæˆäº†ï¼Œä¸»è¦å†…å®¹åŒ…æ‹¬:</p>
<ul>
<li><p>Javaç±»æ›¿æ¢Springæ ¸å¿ƒé…ç½®æ–‡ä»¶</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/a056374cf6262897f8a58f8e5d3723d1.png" alt="1630029254372"></p>
</li>
<li><p>@Configurationæ³¨è§£ç”¨äºè®¾å®šå½“å‰ç±»ä¸ºé…ç½®ç±»</p>
</li>
<li><p>@ComponentScanæ³¨è§£ç”¨äºè®¾å®šæ‰«æè·¯å¾„ï¼Œæ­¤æ³¨è§£åªèƒ½æ·»åŠ ä¸€æ¬¡ï¼Œå¤šä¸ªæ•°æ®è¯·ç”¨æ•°ç»„æ ¼å¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ComponentScan(&#123;com.itheima.service&quot;,&quot;com.itheima.dao&quot;&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯»å–Springæ ¸å¿ƒé…ç½®æ–‡ä»¶åˆå§‹åŒ–å®¹å™¨å¯¹è±¡åˆ‡æ¢ä¸ºè¯»å–Javaé…ç½®ç±»åˆå§‹åŒ–å®¹å™¨å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŠ è½½é…ç½®æ–‡ä»¶åˆå§‹åŒ–å®¹å™¨</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line"><span class="comment">//åŠ è½½é…ç½®ç±»åˆå§‹åŒ–å®¹å™¨</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="çŸ¥è¯†ç‚¹1ï¼š-Configuration"><a href="#çŸ¥è¯†ç‚¹1ï¼š-Configuration" class="headerlink" title="çŸ¥è¯†ç‚¹1ï¼š@Configuration"></a>çŸ¥è¯†ç‚¹1ï¼š@Configuration</h4><table>
<thead>
<tr>
<th>åç§°</th>
<th>@Configuration</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>ç±»æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>ç±»å®šä¹‰ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>è®¾ç½®è¯¥ç±»ä¸ºspringé…ç½®ç±»</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>valueï¼ˆé»˜è®¤ï¼‰ï¼šå®šä¹‰beançš„id</td>
</tr>
</tbody></table>
<h4 id="çŸ¥è¯†ç‚¹2ï¼š-ComponentScan"><a href="#çŸ¥è¯†ç‚¹2ï¼š-ComponentScan" class="headerlink" title="çŸ¥è¯†ç‚¹2ï¼š@ComponentScan"></a>çŸ¥è¯†ç‚¹2ï¼š@ComponentScan</h4><table>
<thead>
<tr>
<th>åç§°</th>
<th>@ComponentScan</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>ç±»æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>ç±»å®šä¹‰ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>è®¾ç½®springé…ç½®ç±»æ‰«æè·¯å¾„ï¼Œç”¨äºåŠ è½½ä½¿ç”¨æ³¨è§£æ ¼å¼å®šä¹‰çš„bean</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>valueï¼ˆé»˜è®¤ï¼‰ï¼šæ‰«æè·¯å¾„ï¼Œæ­¤è·¯å¾„å¯ä»¥é€å±‚å‘ä¸‹æ‰«æ</td>
</tr>
</tbody></table>
<p><strong>å°ç»“:</strong></p>
<p>è¿™ä¸€èŠ‚é‡ç‚¹æŒæ¡çš„æ˜¯ä½¿ç”¨æ³¨è§£å®ŒæˆSpringçš„beanç®¡ç†ï¼Œéœ€è¦æŒæ¡çš„å†…å®¹ä¸º:</p>
<ul>
<li>è®°ä½@Componentã€@Controllerã€@Serviceã€@Repositoryè¿™å››ä¸ªæ³¨è§£</li>
<li>applicationContext.xmlä¸­<code>&lt;context:component-san/&gt;</code>çš„ä½œç”¨æ˜¯æŒ‡å®šæ‰«æåŒ…è·¯å¾„ï¼Œæ³¨è§£ä¸º@ComponentScan</li>
<li>@Configurationæ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»ï¼Œä½¿ç”¨ç±»æ›¿æ¢applicationContext.xmlæ–‡ä»¶</li>
<li>ClassPathXmlApplicationContextæ˜¯åŠ è½½XMLé…ç½®æ–‡ä»¶</li>
<li>AnnotationConfigApplicationContextæ˜¯åŠ è½½é…ç½®ç±»</li>
</ul>
<h3 id="3-3-æ³¨è§£å¼€å‘beanä½œç”¨èŒƒå›´ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†"><a href="#3-3-æ³¨è§£å¼€å‘beanä½œç”¨èŒƒå›´ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†" class="headerlink" title="3.3 æ³¨è§£å¼€å‘beanä½œç”¨èŒƒå›´ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†"></a>3.3 æ³¨è§£å¼€å‘beanä½œç”¨èŒƒå›´ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3><p>ä½¿ç”¨æ³¨è§£å·²ç»å®Œæˆäº†beançš„ç®¡ç†ï¼Œæ¥ä¸‹æ¥æŒ‰ç…§å‰é¢æ‰€å­¦ä¹ çš„å†…å®¹ï¼Œå°†é€šè¿‡é…ç½®å®ç°çš„å†…å®¹éƒ½æ¢æˆå¯¹åº”çš„æ³¨è§£å®ç°ï¼ŒåŒ…å«ä¸¤éƒ¨åˆ†å†…å®¹:<code>beanä½œç”¨èŒƒå›´</code>å’Œ<code>beanç”Ÿå‘½å‘¨æœŸ</code>ã€‚</p>
<h4 id="3-3-1-ç¯å¢ƒå‡†å¤‡"><a href="#3-3-1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="3.3.1 ç¯å¢ƒå‡†å¤‡"></a>3.3.1 ç¯å¢ƒå‡†å¤‡</h4><p>è€è§„çŸ©ï¼Œå­¦ä¹ ä¹‹å‰å…ˆæ¥å‡†å¤‡ç¯å¢ƒ:</p>
<ul>
<li><p>åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®</p>
</li>
<li><p>pom.xmlæ·»åŠ Springçš„ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ ä¸€ä¸ªé…ç½®ç±»<code>SpringConfig</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ BookDaoã€BookDaoImplç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;book dao save ...&quot;</span> );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºè¿è¡Œç±»App</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">      <span class="type">BookDao</span> <span class="variable">bookDao1</span> <span class="operator">=</span> ctx.getBean(BookDao.class);</span><br><span class="line">      <span class="type">BookDao</span> <span class="variable">bookDao2</span> <span class="operator">=</span> ctx.getBean(BookDao.class);</span><br><span class="line">      System.out.println(bookDao1);</span><br><span class="line">      System.out.println(bookDao2);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>æœ€ç»ˆåˆ›å»ºå¥½çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/1f4848983e1422c09dbf8a59a7b13063.png" alt="1630031112993"></p>
<h4 id="3-3-2-Beançš„ä½œç”¨èŒƒå›´"><a href="#3-3-2-Beançš„ä½œç”¨èŒƒå›´" class="headerlink" title="3.3.2 Beançš„ä½œç”¨èŒƒå›´"></a>3.3.2 Beançš„ä½œç”¨èŒƒå›´</h4><p>(1)å…ˆè¿è¡ŒAppç±»,åœ¨æ§åˆ¶å°æ‰“å°ä¸¤ä¸ªä¸€æ‘¸ä¸€æ ·çš„åœ°å€ï¼Œè¯´æ˜é»˜è®¤æƒ…å†µä¸‹beanæ˜¯å•ä¾‹</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/b6ff70f61f3184d87238ab719b94562f.png" alt="1630031192753"></p>
<p>(2)è¦æƒ³å°†BookDaoImplå˜æˆéå•ä¾‹ï¼Œåªéœ€è¦åœ¨å…¶ç±»ä¸Šæ·»åŠ <code>@scope</code>æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="comment">//@Scopeè®¾ç½®beançš„ä½œç”¨èŒƒå›´</span></span><br><span class="line"><span class="meta">@Scope(&quot;prototype&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æ‰§è¡ŒAppç±»ï¼Œæ‰“å°ç»“æœ:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/4e643db95b51ed7662547a8f37995115.png" alt="1630031808947"></p>
<h5 id="çŸ¥è¯†ç‚¹1ï¼š-Scope"><a href="#çŸ¥è¯†ç‚¹1ï¼š-Scope" class="headerlink" title="çŸ¥è¯†ç‚¹1ï¼š@Scope"></a>çŸ¥è¯†ç‚¹1ï¼š@Scope</h5><table>
<thead>
<tr>
<th>åç§°</th>
<th>@Scope</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>ç±»æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>ç±»å®šä¹‰ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>è®¾ç½®è¯¥ç±»åˆ›å»ºå¯¹è±¡çš„ä½œç”¨èŒƒå›´</td>
</tr>
<tr>
<td>å¯ç”¨äºè®¾ç½®åˆ›å»ºå‡ºçš„beanæ˜¯å¦ä¸ºå•ä¾‹å¯¹è±¡</td>
<td></td>
</tr>
<tr>
<td>å±æ€§</td>
<td>valueï¼ˆé»˜è®¤ï¼‰ï¼šå®šä¹‰beanä½œç”¨èŒƒå›´ï¼Œ</td>
</tr>
<tr>
<td>é»˜è®¤å€¼singletonï¼ˆå•ä¾‹ï¼‰ï¼Œå¯é€‰å€¼prototypeï¼ˆéå•ä¾‹ï¼‰</td>
<td></td>
</tr>
</tbody></table>
<h4 id="3-3-3-Beançš„ç”Ÿå‘½å‘¨æœŸ"><a href="#3-3-3-Beançš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="3.3.3 Beançš„ç”Ÿå‘½å‘¨æœŸ"></a>3.3.3 Beançš„ç”Ÿå‘½å‘¨æœŸ</h4><p>(1)åœ¨BookDaoImplä¸­æ·»åŠ ä¸¤ä¸ªæ–¹æ³•ï¼Œ<code>init</code>å’Œ<code>destroy</code>,æ–¹æ³•åå¯ä»¥ä»»æ„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;init ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;destroy ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(2)å¦‚ä½•å¯¹æ–¹æ³•è¿›è¡Œæ ‡è¯†ï¼Œå“ªä¸ªæ˜¯åˆå§‹åŒ–æ–¹æ³•ï¼Œå“ªä¸ªæ˜¯é”€æ¯æ–¹æ³•?</p>
<p>åªéœ€è¦åœ¨å¯¹åº”çš„æ–¹æ³•ä¸Šæ·»åŠ <code>@PostConstruct</code>å’Œ<code>@PreDestroy</code>æ³¨è§£å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PostConstruct</span> <span class="comment">//åœ¨æ„é€ æ–¹æ³•ä¹‹åæ‰§è¡Œï¼Œæ›¿æ¢ init-method</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;init ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PreDestroy</span> <span class="comment">//åœ¨é”€æ¯æ–¹æ³•ä¹‹å‰æ‰§è¡Œ,æ›¿æ¢ destroy-method</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;destroy ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(3)è¦æƒ³çœ‹åˆ°ä¸¤ä¸ªæ–¹æ³•æ‰§è¡Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯<code>destroy</code>åªæœ‰åœ¨å®¹å™¨å…³é—­çš„æ—¶å€™ï¼Œæ‰ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹Appçš„ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">        <span class="type">BookDao</span> <span class="variable">bookDao1</span> <span class="operator">=</span> ctx.getBean(BookDao.class);</span><br><span class="line">        <span class="type">BookDao</span> <span class="variable">bookDao2</span> <span class="operator">=</span> ctx.getBean(BookDao.class);</span><br><span class="line">        System.out.println(bookDao1);</span><br><span class="line">        System.out.println(bookDao2);</span><br><span class="line">        ctx.close(); <span class="comment">//å…³é—­å®¹å™¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(4)è¿è¡ŒApp,ç±»æŸ¥çœ‹æ‰“å°ç»“æœï¼Œè¯æ˜initå’Œdestroyæ–¹æ³•éƒ½è¢«æ‰§è¡Œäº†ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/499a6d24695565b71479ae62abd5142a.png" alt="1630032385498"></p>
<p>**æ³¨æ„:**@PostConstructå’Œ@PreDestroyæ³¨è§£å¦‚æœæ‰¾ä¸åˆ°ï¼Œéœ€è¦å¯¼å…¥ä¸‹é¢çš„jaråŒ…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;javax.annotation&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.3</span><span class="number">.2</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>æ‰¾ä¸åˆ°çš„åŸå› æ˜¯ï¼Œä»JDK9ä»¥åjdkä¸­çš„javax.annotationåŒ…è¢«ç§»é™¤äº†ï¼Œè¿™ä¸¤ä¸ªæ³¨è§£åˆšå¥½å°±åœ¨è¿™ä¸ªåŒ…ä¸­ã€‚</p>
<h5 id="çŸ¥è¯†ç‚¹1ï¼š-PostConstruct"><a href="#çŸ¥è¯†ç‚¹1ï¼š-PostConstruct" class="headerlink" title="çŸ¥è¯†ç‚¹1ï¼š@PostConstruct"></a>çŸ¥è¯†ç‚¹1ï¼š@PostConstruct</h5><table>
<thead>
<tr>
<th>åç§°</th>
<th>@PostConstruct</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>æ–¹æ³•æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>æ–¹æ³•ä¸Š</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>è®¾ç½®è¯¥æ–¹æ³•ä¸ºåˆå§‹åŒ–æ–¹æ³•</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>æ— </td>
</tr>
</tbody></table>
<h5 id="çŸ¥è¯†ç‚¹2ï¼š-PreDestroy"><a href="#çŸ¥è¯†ç‚¹2ï¼š-PreDestroy" class="headerlink" title="çŸ¥è¯†ç‚¹2ï¼š@PreDestroy"></a>çŸ¥è¯†ç‚¹2ï¼š@PreDestroy</h5><table>
<thead>
<tr>
<th>åç§°</th>
<th>@PreDestroy</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>æ–¹æ³•æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>æ–¹æ³•ä¸Š</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>è®¾ç½®è¯¥æ–¹æ³•ä¸ºé”€æ¯æ–¹æ³•</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>æ— </td>
</tr>
</tbody></table>
<p><strong>å°ç»“</strong></p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/b596cc1be511e8845e7b83628f585369.png" alt="1630033039358"></p>
<h3 id="3-4-æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥"><a href="#3-4-æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥" class="headerlink" title="3.4 æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥"></a>3.4 æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥</h3><p>Springä¸ºäº†ä½¿ç”¨æ³¨è§£ç®€åŒ–å¼€å‘ï¼Œå¹¶æ²¡æœ‰æä¾›<code>æ„é€ å‡½æ•°æ³¨å…¥</code>ã€<code>setteræ³¨å…¥</code>å¯¹åº”çš„æ³¨è§£ï¼Œåªæä¾›äº†è‡ªåŠ¨è£…é…çš„æ³¨è§£å®ç°ã€‚</p>
<h4 id="3-4-1-ç¯å¢ƒå‡†å¤‡"><a href="#3-4-1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="3.4.1 ç¯å¢ƒå‡†å¤‡"></a>3.4.1 ç¯å¢ƒå‡†å¤‡</h4><p>åœ¨å­¦ä¹ ä¹‹å‰ï¼ŒæŠŠæ¡ˆä¾‹ç¯å¢ƒä»‹ç»ä¸‹:</p>
<ul>
<li><p>åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®</p>
</li>
<li><p>pom.xmlæ·»åŠ Springçš„ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ ä¸€ä¸ªé…ç½®ç±»<code>SpringConfig</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ BookDaoã€BookDaoImplã€BookServiceã€BookServiceImplç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="meta">@Repository</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;book dao save ...&quot;</span> );</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="meta">@Service</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookDao</span><span class="params">(BookDao bookDao)</span> &#123;</span><br><span class="line">       <span class="built_in">this</span>.bookDao = bookDao;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;book service save ...&quot;</span>);</span><br><span class="line">       bookDao.save();</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºè¿è¡Œç±»App</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">      <span class="type">BookService</span> <span class="variable">bookService</span> <span class="operator">=</span> ctx.getBean(BookService.class);</span><br><span class="line">      bookService.save();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>æœ€ç»ˆåˆ›å»ºå¥½çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/615c5744c5e0df074efe87d0277f58c5.png" alt="1630033604129"></p>
<p>ç¯å¢ƒå‡†å¤‡å¥½åï¼Œè¿è¡Œåä¼šå‘ç°æœ‰é—®é¢˜</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/277aaa6137787bc086001e861d4b4e01.png" alt="1630033710052"></p>
<p>å‡ºç°é—®é¢˜çš„åŸå› æ˜¯ï¼Œåœ¨BookServiceImplç±»ä¸­æ·»åŠ äº†BookDaoçš„å±æ€§ï¼Œå¹¶æä¾›äº†setteræ–¹æ³•ï¼Œä½†æ˜¯ç›®å‰æ˜¯æ²¡æœ‰æä¾›é…ç½®æ³¨å…¥BookDaoçš„ï¼Œæ‰€ä»¥bookDaoå¯¹è±¡ä¸ºNull,è°ƒç”¨å…¶saveæ–¹æ³•å°±ä¼šæŠ¥<code>æ§æŒ‡é’ˆå¼‚å¸¸</code>ã€‚</p>
<h4 id="3-4-2-æ³¨è§£å®ç°æŒ‰ç…§ç±»å‹æ³¨å…¥"><a href="#3-4-2-æ³¨è§£å®ç°æŒ‰ç…§ç±»å‹æ³¨å…¥" class="headerlink" title="3.4.2 æ³¨è§£å®ç°æŒ‰ç…§ç±»å‹æ³¨å…¥"></a>3.4.2 æ³¨è§£å®ç°æŒ‰ç…§ç±»å‹æ³¨å…¥</h4><p>å¯¹äºè¿™ä¸ªé—®é¢˜ä½¿ç”¨æ³¨è§£è¯¥å¦‚ä½•è§£å†³?</p>
<p>(1) åœ¨BookServiceImplç±»çš„bookDaoå±æ€§ä¸Šæ·»åŠ <code>@Autowired</code>æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//	  public void setBookDao(BookDao bookDao) &#123;</span></span><br><span class="line"><span class="comment">//        this.bookDao = bookDao;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book service save ...&quot;</span>);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong></p>
<ul>
<li>@Autowiredå¯ä»¥å†™åœ¨å±æ€§ä¸Šï¼Œä¹Ÿå¯ä¹Ÿå†™åœ¨setteræ–¹æ³•ä¸Šï¼Œæœ€ç®€å•çš„å¤„ç†æ–¹å¼æ˜¯<code>å†™åœ¨å±æ€§ä¸Šå¹¶å°†setteræ–¹æ³•åˆ é™¤æ‰</code></li>
<li>ä¸ºä»€ä¹ˆsetteræ–¹æ³•å¯ä»¥åˆ é™¤å‘¢?<ul>
<li>è‡ªåŠ¨è£…é…åŸºäºåå°„è®¾è®¡åˆ›å»ºå¯¹è±¡å¹¶é€šè¿‡æš´åŠ›åå°„ä¸ºç§æœ‰å±æ€§è¿›è¡Œè®¾å€¼</li>
<li>æ™®é€šåå°„åªèƒ½è·å–publicä¿®é¥°çš„å†…å®¹</li>
<li>æš´åŠ›åå°„é™¤äº†è·å–publicä¿®é¥°çš„å†…å®¹è¿˜å¯ä»¥è·å–privateä¿®æ”¹çš„å†…å®¹</li>
<li>æ‰€ä»¥æ­¤å¤„æ— éœ€æä¾›setteræ–¹æ³•</li>
</ul>
</li>
</ul>
<p>(2)@Autowiredæ˜¯æŒ‰ç…§ç±»å‹æ³¨å…¥ï¼Œé‚£ä¹ˆå¯¹åº”BookDaoæ¥å£å¦‚æœæœ‰å¤šä¸ªå®ç°ç±»ï¼Œæ¯”å¦‚æ·»åŠ BookDaoImpl2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl2</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™å†æ¬¡è¿è¡ŒAppï¼Œå°±ä¼šæŠ¥é”™</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/6e1e60a57ed8f9e9d380a2879f6a2868.png" alt="1630034272959"></p>
<p>æ­¤æ—¶ï¼ŒæŒ‰ç…§ç±»å‹æ³¨å…¥å°±æ— æ³•åŒºåˆ†åˆ°åº•æ³¨å…¥å“ªä¸ªå¯¹è±¡ï¼Œè§£å†³æ–¹æ¡ˆ:<code>æŒ‰ç…§åç§°æ³¨å…¥</code></p>
<ul>
<li><p>å…ˆç»™ä¸¤ä¸ªDaoç±»åˆ†åˆ«èµ·ä¸ªåç§°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository(&quot;bookDao&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;book dao save ...&quot;</span> );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Repository(&quot;bookDao2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl2</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;book dao save ...2&quot;</span> );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å°±å¯ä»¥æ³¨å…¥æˆåŠŸï¼Œä½†æ˜¯å¾—æ€è€ƒä¸ªé—®é¢˜:</p>
<ul>
<li><p>@Autowiredæ˜¯æŒ‰ç…§ç±»å‹æ³¨å…¥çš„ï¼Œç»™BookDaoçš„ä¸¤ä¸ªå®ç°èµ·äº†åç§°ï¼Œå®ƒè¿˜æ˜¯æœ‰ä¸¤ä¸ªbeanå¯¹è±¡ï¼Œä¸ºä»€ä¹ˆä¸æŠ¥é”™?</p>
</li>
<li><p>@Autowiredé»˜è®¤æŒ‰ç…§ç±»å‹è‡ªåŠ¨è£…é…ï¼Œå¦‚æœIOCå®¹å™¨ä¸­åŒç±»çš„Beanæ‰¾åˆ°å¤šä¸ªï¼Œå°±æŒ‰ç…§å˜é‡åå’ŒBeançš„åç§°åŒ¹é…ã€‚å› ä¸ºå˜é‡åå«<code>bookDao</code>è€Œå®¹å™¨ä¸­ä¹Ÿæœ‰ä¸€ä¸ª<code>booDao</code>ï¼Œæ‰€ä»¥å¯ä»¥æˆåŠŸæ³¨å…¥ã€‚</p>
</li>
<li><p>åˆ†æä¸‹é¢è¿™ç§æƒ…å†µæ˜¯å¦èƒ½å®Œæˆæ³¨å…¥å‘¢?</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/2d386c22b1967a7069bb4cea005e98a9.png" alt="1630036236150"></p>
</li>
<li><p>ä¸è¡Œï¼Œå› ä¸ºæŒ‰ç…§ç±»å‹ä¼šæ‰¾åˆ°å¤šä¸ªbeanå¯¹è±¡ï¼Œæ­¤æ—¶ä¼šæŒ‰ç…§<code>bookDao</code>åç§°å»æ‰¾ï¼Œå› ä¸ºIOCå®¹å™¨åªæœ‰åç§°å«<code>bookDao1</code>å’Œ<code>bookDao2</code>,æ‰€ä»¥æ‰¾ä¸åˆ°ï¼Œä¼šæŠ¥<code>NoUniqueBeanDefinitionException</code></p>
</li>
</ul>
</li>
</ul>
<h4 id="3-4-3-æ³¨è§£å®ç°æŒ‰ç…§åç§°æ³¨å…¥"><a href="#3-4-3-æ³¨è§£å®ç°æŒ‰ç…§åç§°æ³¨å…¥" class="headerlink" title="3.4.3 æ³¨è§£å®ç°æŒ‰ç…§åç§°æ³¨å…¥"></a>3.4.3 æ³¨è§£å®ç°æŒ‰ç…§åç§°æ³¨å…¥</h4><p>å½“æ ¹æ®ç±»å‹åœ¨å®¹å™¨ä¸­æ‰¾åˆ°å¤šä¸ªbean,æ³¨å…¥å‚æ•°çš„å±æ€§ååˆå’Œå®¹å™¨ä¸­beançš„åç§°ä¸ä¸€è‡´ï¼Œè¿™ä¸ªæ—¶å€™è¯¥å¦‚ä½•è§£å†³ï¼Œå°±éœ€è¦ä½¿ç”¨åˆ°<code>@Qualifier</code>æ¥æŒ‡å®šæ³¨å…¥å“ªä¸ªåç§°çš„beanå¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;bookDao1&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book service save ...&quot;</span>);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Qualifieræ³¨è§£åçš„å€¼å°±æ˜¯éœ€è¦æ³¨å…¥çš„beançš„åç§°ã€‚</p>
<p>æ³¨æ„:@Qualifierä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œå¿…é¡»å’Œ@Autowiredä¸€èµ·ä½¿ç”¨</p>
<h4 id="3-4-4-ç®€å•æ•°æ®ç±»å‹æ³¨å…¥"><a href="#3-4-4-ç®€å•æ•°æ®ç±»å‹æ³¨å…¥" class="headerlink" title="3.4.4 ç®€å•æ•°æ®ç±»å‹æ³¨å…¥"></a>3.4.4 ç®€å•æ•°æ®ç±»å‹æ³¨å…¥</h4><p>å¼•ç”¨ç±»å‹çœ‹å®Œï¼Œç®€å•ç±»å‹æ³¨å…¥å°±æ¯”è¾ƒå®¹æ˜“æ‡‚äº†ã€‚ç®€å•ç±»å‹æ³¨å…¥çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹æˆ–è€…å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸‹é¢åœ¨<code>BookDaoImpl</code>ç±»ä¸­æ·»åŠ ä¸€ä¸ª<code>name</code>å±æ€§ï¼Œç”¨å…¶è¿›è¡Œç®€å•ç±»å‹æ³¨å…¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository(&quot;bookDao&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•°æ®ç±»å‹æ¢äº†ï¼Œå¯¹åº”çš„æ³¨è§£ä¹Ÿè¦è·Ÿç€æ¢ï¼Œè¿™æ¬¡ä½¿ç”¨<code>@Value</code>æ³¨è§£ï¼Œå°†å€¼å†™å…¥æ³¨è§£çš„å‚æ•°ä¸­å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository(&quot;bookDao&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;itheima&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„æ•°æ®æ ¼å¼è¦åŒ¹é…ï¼Œå¦‚å°†â€abcâ€æ³¨å…¥ç»™intå€¼ï¼Œè¿™æ ·ç¨‹åºå°±ä¼šæŠ¥é”™ã€‚</p>
<p>ä»‹ç»å®Œåï¼Œä¼šæœ‰ä¸€ç§æ„Ÿè§‰å°±æ˜¯è¿™ä¸ªæ³¨è§£å¥½åƒæ²¡ä»€ä¹ˆç”¨ï¼Œè·Ÿç›´æ¥èµ‹å€¼æ˜¯ä¸€ä¸ªæ•ˆæœï¼Œè¿˜æ²¡æœ‰ç›´æ¥èµ‹å€¼ç®€å•ï¼Œæ‰€ä»¥è¿™ä¸ªæ³¨è§£å­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ?</p>
<h4 id="3-4-5-æ³¨è§£è¯»å–propertiesé…ç½®æ–‡ä»¶"><a href="#3-4-5-æ³¨è§£è¯»å–propertiesé…ç½®æ–‡ä»¶" class="headerlink" title="3.4.5 æ³¨è§£è¯»å–propertiesé…ç½®æ–‡ä»¶"></a>3.4.5 æ³¨è§£è¯»å–propertiesé…ç½®æ–‡ä»¶</h4><p><code>@Value</code>ä¸€èˆ¬ä¼šè¢«ç”¨åœ¨ä»propertiesé…ç½®æ–‡ä»¶ä¸­è¯»å–å†…å®¹è¿›è¡Œä½¿ç”¨ï¼Œå…·ä½“å¦‚ä½•å®ç°?</p>
<h5 id="æ­¥éª¤1ï¼šresourceä¸‹å‡†å¤‡propertiesæ–‡ä»¶"><a href="#æ­¥éª¤1ï¼šresourceä¸‹å‡†å¤‡propertiesæ–‡ä»¶" class="headerlink" title="æ­¥éª¤1ï¼šresourceä¸‹å‡†å¤‡propertiesæ–‡ä»¶"></a>æ­¥éª¤1ï¼šresourceä¸‹å‡†å¤‡propertiesæ–‡ä»¶</h5><p>jdbc.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name</span>=<span class="string">itheima888</span></span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤2-ä½¿ç”¨æ³¨è§£åŠ è½½propertiesé…ç½®æ–‡ä»¶"><a href="#æ­¥éª¤2-ä½¿ç”¨æ³¨è§£åŠ è½½propertiesé…ç½®æ–‡ä»¶" class="headerlink" title="æ­¥éª¤2: ä½¿ç”¨æ³¨è§£åŠ è½½propertiesé…ç½®æ–‡ä»¶"></a>æ­¥éª¤2: ä½¿ç”¨æ³¨è§£åŠ è½½propertiesé…ç½®æ–‡ä»¶</h5><p>åœ¨é…ç½®ç±»ä¸Šæ·»åŠ <code>@PropertySource</code>æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;jdbc.properties&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤3ï¼šä½¿ç”¨-Valueè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹"><a href="#æ­¥éª¤3ï¼šä½¿ç”¨-Valueè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹" class="headerlink" title="æ­¥éª¤3ï¼šä½¿ç”¨@Valueè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹"></a>æ­¥éª¤3ï¼šä½¿ç”¨@Valueè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository(&quot;bookDao&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¥éª¤4:è¿è¡Œç¨‹åº</p>
<p>è¿è¡ŒAppç±»ï¼ŒæŸ¥çœ‹è¿è¡Œç»“æœï¼Œè¯´æ˜é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹å·²ç»è¢«åŠ è½½åˆ°</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/aa01c5f53a0cb7fd782603816637426a.png" alt="1630084683663"></p>
<p><strong>æ³¨æ„:</strong></p>
<ul>
<li><p>å¦‚æœè¯»å–çš„propertiesé…ç½®æ–‡ä»¶æœ‰å¤šä¸ªï¼Œå¯ä»¥ä½¿ç”¨<code>@PropertySource</code>çš„å±æ€§æ¥æŒ‡å®šå¤šä¸ª</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PropertySource(&#123;&quot;jdbc.properties&quot;,&quot;xxx.properties&quot;&#125;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>@PropertySource</code>æ³¨è§£å±æ€§ä¸­<strong>ä¸æ”¯æŒ</strong>ä½¿ç”¨é€šé…ç¬¦<code>*</code>,è¿è¡Œä¼šæŠ¥é”™</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PropertySource(&#123;&quot;*.properties&quot;&#125;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>@PropertySource</code>æ³¨è§£å±æ€§ä¸­å¯ä»¥æŠŠ<code>classpath:</code>åŠ ä¸Š,ä»£è¡¨ä»å½“å‰é¡¹ç›®çš„æ ¹è·¯å¾„æ‰¾æ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PropertySource(&#123;&quot;classpath:jdbc.properties&quot;&#125;)</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="çŸ¥è¯†ç‚¹1ï¼š-Autowired"><a href="#çŸ¥è¯†ç‚¹1ï¼š-Autowired" class="headerlink" title="çŸ¥è¯†ç‚¹1ï¼š@Autowired"></a>çŸ¥è¯†ç‚¹1ï¼š@Autowired</h4><table>
<thead>
<tr>
<th>åç§°</th>
<th>@Autowired</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>å±æ€§æ³¨è§£ æˆ– æ–¹æ³•æ³¨è§£ï¼ˆäº†è§£ï¼‰ æˆ– æ–¹æ³•å½¢å‚æ³¨è§£ï¼ˆäº†è§£ï¼‰</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>å±æ€§å®šä¹‰ä¸Šæ–¹ æˆ– æ ‡å‡†setæ–¹æ³•ä¸Šæ–¹ æˆ– ç±»setæ–¹æ³•ä¸Šæ–¹ æˆ– æ–¹æ³•å½¢å‚å‰é¢</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>ä¸ºå¼•ç”¨ç±»å‹å±æ€§è®¾ç½®å€¼</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>requiredï¼štrue&#x2F;falseï¼Œå®šä¹‰è¯¥å±æ€§æ˜¯å¦å…è®¸ä¸ºnull</td>
</tr>
</tbody></table>
<h4 id="çŸ¥è¯†ç‚¹2ï¼š-Qualifier"><a href="#çŸ¥è¯†ç‚¹2ï¼š-Qualifier" class="headerlink" title="çŸ¥è¯†ç‚¹2ï¼š@Qualifier"></a>çŸ¥è¯†ç‚¹2ï¼š@Qualifier</h4><table>
<thead>
<tr>
<th>åç§°</th>
<th>@Qualifier</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>å±æ€§æ³¨è§£ æˆ– æ–¹æ³•æ³¨è§£ï¼ˆäº†è§£ï¼‰</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>å±æ€§å®šä¹‰ä¸Šæ–¹ æˆ– æ ‡å‡†setæ–¹æ³•ä¸Šæ–¹ æˆ– ç±»setæ–¹æ³•ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>ä¸ºå¼•ç”¨ç±»å‹å±æ€§æŒ‡å®šæ³¨å…¥çš„beanId</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>valueï¼ˆé»˜è®¤ï¼‰ï¼šè®¾ç½®æ³¨å…¥çš„beanId</td>
</tr>
</tbody></table>
<h4 id="çŸ¥è¯†ç‚¹3ï¼š-Value"><a href="#çŸ¥è¯†ç‚¹3ï¼š-Value" class="headerlink" title="çŸ¥è¯†ç‚¹3ï¼š@Value"></a>çŸ¥è¯†ç‚¹3ï¼š@Value</h4><table>
<thead>
<tr>
<th>åç§°</th>
<th>@Value</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>å±æ€§æ³¨è§£ æˆ– æ–¹æ³•æ³¨è§£ï¼ˆäº†è§£ï¼‰</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>å±æ€§å®šä¹‰ä¸Šæ–¹ æˆ– æ ‡å‡†setæ–¹æ³•ä¸Šæ–¹ æˆ– ç±»setæ–¹æ³•ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>ä¸º åŸºæœ¬æ•°æ®ç±»å‹ æˆ– å­—ç¬¦ä¸²ç±»å‹ å±æ€§è®¾ç½®å€¼</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>valueï¼ˆé»˜è®¤ï¼‰ï¼šè¦æ³¨å…¥çš„å±æ€§å€¼</td>
</tr>
</tbody></table>
<h4 id="çŸ¥è¯†ç‚¹4ï¼š-PropertySource"><a href="#çŸ¥è¯†ç‚¹4ï¼š-PropertySource" class="headerlink" title="çŸ¥è¯†ç‚¹4ï¼š@PropertySource"></a>çŸ¥è¯†ç‚¹4ï¼š@PropertySource</h4><table>
<thead>
<tr>
<th>åç§°</th>
<th>@PropertySource</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>ç±»æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>ç±»å®šä¹‰ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>åŠ è½½propertiesæ–‡ä»¶ä¸­çš„å±æ€§å€¼</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>valueï¼ˆé»˜è®¤ï¼‰ï¼šè®¾ç½®åŠ è½½çš„propertiesæ–‡ä»¶å¯¹åº”çš„æ–‡ä»¶åæˆ–æ–‡ä»¶åç»„æˆçš„æ•°ç»„</td>
</tr>
</tbody></table>
<h2 id="4ï¼ŒIOC-x2F-DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean"><a href="#4ï¼ŒIOC-x2F-DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean" class="headerlink" title="4ï¼ŒIOC&#x2F;DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean"></a>4ï¼ŒIOC&#x2F;DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</h2><p>å‰é¢å®šä¹‰beançš„æ—¶å€™éƒ½æ˜¯åœ¨è‡ªå·±å¼€å‘çš„ç±»ä¸Šé¢å†™ä¸ªæ³¨è§£å°±å®Œæˆäº†ï¼Œä½†å¦‚æœæ˜¯ç¬¬ä¸‰æ–¹çš„ç±»ï¼Œè¿™äº›ç±»éƒ½æ˜¯åœ¨jaråŒ…ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•åœ¨ç±»ä¸Šé¢æ·»åŠ æ³¨è§£ï¼Œè¿™ä¸ªæ—¶å€™è¯¥æ€ä¹ˆåŠ?</p>
<p>é‡åˆ°ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦æœ‰ä¸€ç§æ›´åŠ çµæ´»çš„æ–¹å¼æ¥å®šä¹‰bean,è¿™ç§æ–¹å¼ä¸èƒ½åœ¨åŸå§‹ä»£ç ä¸Šé¢ä¹¦å†™æ³¨è§£ï¼Œä¸€æ ·èƒ½å®šä¹‰bean,è¿™å°±ç”¨åˆ°äº†ä¸€ä¸ªå…¨æ–°çš„æ³¨è§£&#x3D;&#x3D;@Bean&#x3D;&#x3D;ã€‚</p>
<p>è¿™ä¸ªæ³¨è§£è¯¥å¦‚ä½•ä½¿ç”¨å‘¢?</p>
<p>å’±ä»¬æŠŠä¹‹å‰ä½¿ç”¨é…ç½®æ–¹å¼ç®¡ç†çš„æ•°æ®æºä½¿ç”¨æ³¨è§£å†æ¥ä¸€éï¼Œé€šè¿‡è¿™ä¸ªæ¡ˆä¾‹æ¥å­¦ä¹ ä¸‹@Beançš„ä½¿ç”¨ã€‚</p>
<h3 id="4-1-ç¯å¢ƒå‡†å¤‡"><a href="#4-1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="4.1 ç¯å¢ƒå‡†å¤‡"></a>4.1 ç¯å¢ƒå‡†å¤‡</h3><p>å­¦ä¹ @Beanæ³¨è§£ä¹‹å‰å…ˆæ¥å‡†å¤‡ç¯å¢ƒ:</p>
<ul>
<li><p>åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®</p>
</li>
<li><p>pom.xmlæ·»åŠ Springçš„ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ ä¸€ä¸ªé…ç½®ç±»<code>SpringConfig</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ BookDaoã€BookDaoImplç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;book dao save ...&quot;</span> );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºè¿è¡Œç±»App</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>æœ€ç»ˆåˆ›å»ºå¥½çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/a9796b5251cfeabfa3c1c3e7a28ac4c9.png" alt="1630122466404"></p>
<h3 id="4-2-æ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean"><a href="#4-2-æ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean" class="headerlink" title="4.2 æ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean"></a>4.2 æ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</h3><p>åœ¨ä¸Šè¿°ç¯å¢ƒä¸­å®Œæˆå¯¹<code>Druid</code>æ•°æ®æºçš„ç®¡ç†ï¼Œå…·ä½“çš„å®ç°æ­¥éª¤ä¸º:</p>
<h4 id="æ­¥éª¤1-å¯¼å…¥å¯¹åº”çš„jaråŒ…"><a href="#æ­¥éª¤1-å¯¼å…¥å¯¹åº”çš„jaråŒ…" class="headerlink" title="æ­¥éª¤1:å¯¼å…¥å¯¹åº”çš„jaråŒ…"></a>æ­¥éª¤1:å¯¼å…¥å¯¹åº”çš„jaråŒ…</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="æ­¥éª¤2-åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•"><a href="#æ­¥éª¤2-åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•" class="headerlink" title="æ­¥éª¤2:åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•"></a>æ­¥éª¤2:åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•</h4><p>æ³¨æ„è¯¥æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯è¦åˆ›å»ºçš„Beanå¯¹è±¡ç±»å‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        ds.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>);</span><br><span class="line">        ds.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ­¥éª¤3-åœ¨æ–¹æ³•ä¸Šæ·»åŠ -Beanæ³¨è§£"><a href="#æ­¥éª¤3-åœ¨æ–¹æ³•ä¸Šæ·»åŠ -Beanæ³¨è§£" class="headerlink" title="æ­¥éª¤3:åœ¨æ–¹æ³•ä¸Šæ·»åŠ @Beanæ³¨è§£"></a>æ­¥éª¤3:åœ¨æ–¹æ³•ä¸Šæ·»åŠ <code>@Bean</code>æ³¨è§£</h4><p>@Beanæ³¨è§£çš„ä½œç”¨æ˜¯å°†æ–¹æ³•çš„è¿”å›å€¼åˆ¶ä½œä¸ºSpringç®¡ç†çš„ä¸€ä¸ªbeanå¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        ds.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>);</span><br><span class="line">        ds.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:ä¸èƒ½ä½¿ç”¨<code>DataSource ds = new DruidDataSource()</code></strong></p>
<p>å› ä¸ºDataSourceæ¥å£ä¸­æ²¡æœ‰å¯¹åº”çš„setteræ–¹æ³•æ¥è®¾ç½®å±æ€§ã€‚</p>
<h4 id="æ­¥éª¤4-ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æ‰“å°"><a href="#æ­¥éª¤4-ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æ‰“å°" class="headerlink" title="æ­¥éª¤4:ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æ‰“å°"></a>æ­¥éª¤4:ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æ‰“å°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">        <span class="type">DataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> ctx.getBean(DataSource.class);</span><br><span class="line">        System.out.println(dataSource);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ä½¿ç”¨@Beanæ¥ç®¡ç†ç¬¬ä¸‰æ–¹beançš„æ¡ˆä¾‹å°±å·²ç»å®Œæˆã€‚</p>
<p>å¦‚æœæœ‰å¤šä¸ªbeanè¦è¢«Springç®¡ç†ï¼Œç›´æ¥åœ¨é…ç½®ç±»ä¸­å¤šäº›å‡ ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•ä¸Šæ·»åŠ @Beanæ³¨è§£å³å¯ã€‚</p>
<h3 id="4-3-å¼•å…¥å¤–éƒ¨é…ç½®ç±»"><a href="#4-3-å¼•å…¥å¤–éƒ¨é…ç½®ç±»" class="headerlink" title="4.3 å¼•å…¥å¤–éƒ¨é…ç½®ç±»"></a>4.3 å¼•å…¥å¤–éƒ¨é…ç½®ç±»</h3><p>å¦‚æœæŠŠæ‰€æœ‰çš„ç¬¬ä¸‰æ–¹beanéƒ½é…ç½®åˆ°Springçš„é…ç½®ç±»<code>SpringConfig</code>ä¸­ï¼Œè™½ç„¶å¯ä»¥ï¼Œä½†æ˜¯ä¸åˆ©äºä»£ç é˜…è¯»å’Œåˆ†ç±»ç®¡ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æƒ³èƒ½ä¸èƒ½æŒ‰ç…§ç±»åˆ«å°†è¿™äº›beané…ç½®åˆ°ä¸åŒçš„é…ç½®ç±»ä¸­?</p>
<p>å¯¹äºæ•°æ®æºçš„bean,æˆ‘ä»¬æ–°å»ºä¸€ä¸ª<code>JdbcConfig</code>é…ç½®ç±»ï¼Œå¹¶æŠŠæ•°æ®æºé…ç½®åˆ°è¯¥ç±»ä¸‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        ds.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>);</span><br><span class="line">        ds.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œè¿™ä¸ªé…ç½®ç±»å¦‚ä½•èƒ½è¢«Springé…ç½®ç±»åŠ è½½åˆ°ï¼Œå¹¶åˆ›å»ºDataSourceå¯¹è±¡åœ¨IOCå®¹å™¨ä¸­?</p>
<p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆ:</p>
<h4 id="4-3-1-ä½¿ç”¨åŒ…æ‰«æå¼•å…¥"><a href="#4-3-1-ä½¿ç”¨åŒ…æ‰«æå¼•å…¥" class="headerlink" title="4.3.1 ä½¿ç”¨åŒ…æ‰«æå¼•å…¥"></a>4.3.1 ä½¿ç”¨åŒ…æ‰«æå¼•å…¥</h4><h5 id="æ­¥éª¤1-åœ¨Springçš„é…ç½®ç±»ä¸Šæ·»åŠ åŒ…æ‰«æ"><a href="#æ­¥éª¤1-åœ¨Springçš„é…ç½®ç±»ä¸Šæ·»åŠ åŒ…æ‰«æ" class="headerlink" title="æ­¥éª¤1:åœ¨Springçš„é…ç½®ç±»ä¸Šæ·»åŠ åŒ…æ‰«æ"></a>æ­¥éª¤1:åœ¨Springçš„é…ç½®ç±»ä¸Šæ·»åŠ åŒ…æ‰«æ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima.config&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤2-åœ¨JdbcConfigä¸Šæ·»åŠ é…ç½®æ³¨è§£"><a href="#æ­¥éª¤2-åœ¨JdbcConfigä¸Šæ·»åŠ é…ç½®æ³¨è§£" class="headerlink" title="æ­¥éª¤2:åœ¨JdbcConfigä¸Šæ·»åŠ é…ç½®æ³¨è§£"></a>æ­¥éª¤2:åœ¨JdbcConfigä¸Šæ·»åŠ é…ç½®æ³¨è§£</h5><p>JdbcConfigç±»è¦æ”¾å…¥åˆ°<code>com.itheima.config</code>åŒ…ä¸‹ï¼Œéœ€è¦è¢«Springçš„é…ç½®ç±»æ‰«æåˆ°å³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        ds.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>);</span><br><span class="line">        ds.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤3-è¿è¡Œç¨‹åº-2"><a href="#æ­¥éª¤3-è¿è¡Œç¨‹åº-2" class="headerlink" title="æ­¥éª¤3:è¿è¡Œç¨‹åº"></a>æ­¥éª¤3:è¿è¡Œç¨‹åº</h5><p>ä¾ç„¶èƒ½è·å–åˆ°beanå¯¹è±¡å¹¶æ‰“å°æ§åˆ¶å°ã€‚</p>
<p>è¿™ç§æ–¹å¼è™½ç„¶èƒ½å¤Ÿæ‰«æåˆ°ï¼Œä½†æ˜¯ä¸èƒ½å¾ˆå¿«çš„çŸ¥æ™“éƒ½å¼•å…¥äº†å“ªäº›é…ç½®ç±»ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼ä¸æ¨èä½¿ç”¨ã€‚</p>
<h4 id="4-3-2-ä½¿ç”¨-Importå¼•å…¥"><a href="#4-3-2-ä½¿ç”¨-Importå¼•å…¥" class="headerlink" title="4.3.2 ä½¿ç”¨@Importå¼•å…¥"></a>4.3.2 ä½¿ç”¨<code>@Import</code>å¼•å…¥</h4><p>æ–¹æ¡ˆä¸€å®ç°èµ·æ¥æœ‰ç‚¹å°å¤æ‚ï¼ŒSpringæ—©å°±æƒ³åˆ°äº†è¿™ä¸€ç‚¹ï¼Œäºæ˜¯åˆç»™æˆ‘ä»¬æä¾›äº†ç¬¬äºŒç§æ–¹æ¡ˆã€‚</p>
<p>è¿™ç§æ–¹æ¡ˆå¯ä»¥ä¸ç”¨åŠ <code>@Configuration</code>æ³¨è§£ï¼Œä½†æ˜¯å¿…é¡»åœ¨Springé…ç½®ç±»ä¸Šä½¿ç”¨<code>@Import</code>æ³¨è§£æ‰‹åŠ¨å¼•å…¥éœ€è¦åŠ è½½çš„é…ç½®ç±»</p>
<h5 id="æ­¥éª¤1-å»é™¤JdbcConfigç±»ä¸Šçš„æ³¨è§£"><a href="#æ­¥éª¤1-å»é™¤JdbcConfigç±»ä¸Šçš„æ³¨è§£" class="headerlink" title="æ­¥éª¤1:å»é™¤JdbcConfigç±»ä¸Šçš„æ³¨è§£"></a>æ­¥éª¤1:å»é™¤JdbcConfigç±»ä¸Šçš„æ³¨è§£</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        ds.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>);</span><br><span class="line">        ds.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤2-åœ¨Springé…ç½®ç±»ä¸­å¼•å…¥"><a href="#æ­¥éª¤2-åœ¨Springé…ç½®ç±»ä¸­å¼•å…¥" class="headerlink" title="æ­¥éª¤2:åœ¨Springé…ç½®ç±»ä¸­å¼•å…¥"></a>æ­¥éª¤2:åœ¨Springé…ç½®ç±»ä¸­å¼•å…¥</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//@ComponentScan(&quot;com.itheima.config&quot;)</span></span><br><span class="line"><span class="meta">@Import(&#123;JdbcConfig.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong></p>
<ul>
<li><p>æ‰«ææ³¨è§£å¯ä»¥ç§»é™¤</p>
</li>
<li><p>@Importå‚æ•°éœ€è¦çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥å¼•å…¥å¤šä¸ªé…ç½®ç±»ã€‚</p>
</li>
<li><p>@Importæ³¨è§£åœ¨é…ç½®ç±»ä¸­åªèƒ½å†™ä¸€æ¬¡ï¼Œä¸‹é¢çš„æ–¹å¼æ˜¯ä¸å…è®¸çš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//@ComponentScan(&quot;com.itheima.config&quot;)</span></span><br><span class="line"><span class="meta">@Import(JdbcConfig.class)</span></span><br><span class="line"><span class="meta">@Import(Xxx.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="æ­¥éª¤3-è¿è¡Œç¨‹åº-3"><a href="#æ­¥éª¤3-è¿è¡Œç¨‹åº-3" class="headerlink" title="æ­¥éª¤3:è¿è¡Œç¨‹åº"></a>æ­¥éª¤3:è¿è¡Œç¨‹åº</h5><p>ä¾ç„¶èƒ½è·å–åˆ°beanå¯¹è±¡å¹¶æ‰“å°æ§åˆ¶å°</p>
<h3 id="çŸ¥è¯†ç‚¹1ï¼š-Bean"><a href="#çŸ¥è¯†ç‚¹1ï¼š-Bean" class="headerlink" title="çŸ¥è¯†ç‚¹1ï¼š@Bean"></a>çŸ¥è¯†ç‚¹1ï¼š@Bean</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th>@Bean</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>æ–¹æ³•æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>æ–¹æ³•å®šä¹‰ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>è®¾ç½®è¯¥æ–¹æ³•çš„è¿”å›å€¼ä½œä¸ºspringç®¡ç†çš„bean</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>valueï¼ˆé»˜è®¤ï¼‰ï¼šå®šä¹‰beançš„id</td>
</tr>
</tbody></table>
<h3 id="çŸ¥è¯†ç‚¹2ï¼š-Import"><a href="#çŸ¥è¯†ç‚¹2ï¼š-Import" class="headerlink" title="çŸ¥è¯†ç‚¹2ï¼š@Import"></a>çŸ¥è¯†ç‚¹2ï¼š@Import</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th>@Import</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>ç±»æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>ç±»å®šä¹‰ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>å¯¼å…¥é…ç½®ç±»</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>valueï¼ˆé»˜è®¤ï¼‰ï¼šå®šä¹‰å¯¼å…¥çš„é…ç½®ç±»ç±»åï¼Œ</td>
</tr>
<tr>
<td>å½“é…ç½®ç±»æœ‰å¤šä¸ªæ—¶ä½¿ç”¨æ•°ç»„æ ¼å¼ä¸€æ¬¡æ€§å¯¼å…¥å¤šä¸ªé…ç½®ç±»</td>
<td></td>
</tr>
</tbody></table>
<h3 id="4-4-æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº"><a href="#4-4-æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº" class="headerlink" title="4.4 æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº"></a>4.4 æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº</h3><p>åœ¨ä½¿ç”¨@Beanåˆ›å»ºbeanå¯¹è±¡çš„æ—¶å€™ï¼Œå¦‚æœæ–¹æ³•åœ¨åˆ›å»ºçš„è¿‡ç¨‹ä¸­éœ€è¦å…¶ä»–èµ„æºè¯¥æ€ä¹ˆåŠ?</p>
<p>è¿™äº›èµ„æºä¼šæœ‰ä¸¤å¤§ç±»ï¼Œåˆ†åˆ«æ˜¯<code>ç®€å•æ•°æ®ç±»å‹</code> å’Œ<code>å¼•ç”¨æ•°æ®ç±»å‹</code>ã€‚</p>
<h4 id="4-4-1-ç®€å•æ•°æ®ç±»å‹"><a href="#4-4-1-ç®€å•æ•°æ®ç±»å‹" class="headerlink" title="4.4.1 ç®€å•æ•°æ®ç±»å‹"></a>4.4.1 ç®€å•æ•°æ®ç±»å‹</h4><h5 id="4-4-1-1-éœ€æ±‚åˆ†æ"><a href="#4-4-1-1-éœ€æ±‚åˆ†æ" class="headerlink" title="4.4.1.1 éœ€æ±‚åˆ†æ"></a>4.4.1.1 éœ€æ±‚åˆ†æ</h5><p>å¯¹äºä¸‹é¢ä»£ç å…³äºæ•°æ®åº“çš„å››è¦ç´ ä¸åº”è¯¥å†™æ­»åœ¨ä»£ç ä¸­ï¼Œåº”è¯¥æ˜¯ä»propertiesé…ç½®æ–‡ä»¶ä¸­è¯»å–ã€‚å¦‚ä½•æ¥ä¼˜åŒ–ä¸‹é¢çš„ä»£ç ?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        ds.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>);</span><br><span class="line">        ds.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-4-1-2-æ³¨å…¥ç®€å•æ•°æ®ç±»å‹æ­¥éª¤"><a href="#4-4-1-2-æ³¨å…¥ç®€å•æ•°æ®ç±»å‹æ­¥éª¤" class="headerlink" title="4.4.1.2 æ³¨å…¥ç®€å•æ•°æ®ç±»å‹æ­¥éª¤"></a>4.4.1.2 æ³¨å…¥ç®€å•æ•°æ®ç±»å‹æ­¥éª¤</h5><h6 id="æ­¥éª¤1-ç±»ä¸­æä¾›å››ä¸ªå±æ€§"><a href="#æ­¥éª¤1-ç±»ä¸­æä¾›å››ä¸ªå±æ€§" class="headerlink" title="æ­¥éª¤1:ç±»ä¸­æä¾›å››ä¸ªå±æ€§"></a>æ­¥éª¤1:ç±»ä¸­æä¾›å››ä¸ªå±æ€§</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        ds.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>);</span><br><span class="line">        ds.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="æ­¥éª¤2-ä½¿ç”¨-Valueæ³¨è§£å¼•å…¥å€¼"><a href="#æ­¥éª¤2-ä½¿ç”¨-Valueæ³¨è§£å¼•å…¥å€¼" class="headerlink" title="æ­¥éª¤2:ä½¿ç”¨@Valueæ³¨è§£å¼•å…¥å€¼"></a>æ­¥éª¤2:ä½¿ç”¨<code>@Value</code>æ³¨è§£å¼•å…¥å€¼</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;com.mysql.jdbc.Driver&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value(&quot;jdbc:mysql://localhost:3306/spring_db&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;root&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@Value(&quot;password&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(userName);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h6><p>ç°åœ¨çš„æ•°æ®åº“è¿æ¥å››è¦ç´ è¿˜æ˜¯å†™åœ¨ä»£ç ä¸­ï¼Œéœ€è¦åšçš„æ˜¯å°†è¿™äº›å†…å®¹æå–åˆ°jdbc.propertiesé…ç½®æ–‡ä»¶ï¼Œå¤§å®¶æ€è€ƒä¸‹è¯¥å¦‚ä½•å®ç°?</p>
<blockquote>
<p>1.resourcesç›®å½•ä¸‹æ·»åŠ jdbc.properties</p>
<p>2.é…ç½®æ–‡ä»¶ä¸­æä¾›å››ä¸ªé”®å€¼å¯¹åˆ†åˆ«æ˜¯æ•°æ®åº“çš„å››è¦ç´ </p>
<p>3.ä½¿ç”¨@PropertySourceåŠ è½½jdbc.propertiesé…ç½®æ–‡ä»¶</p>
<p>4.ä¿®æ”¹@Valueæ³¨è§£å±æ€§çš„å€¼ï¼Œå°†å…¶ä¿®æ”¹ä¸º<code>$&#123;key&#125;</code>ï¼Œkeyå°±æ˜¯é”®å€¼å¯¹ä¸­çš„é”®çš„å€¼</p>
</blockquote>
<p>å…·ä½“çš„å®ç°å°±äº¤ç”±å¤§å®¶è‡ªè¡Œå®ç°ä¸‹ã€‚</p>
<h4 id="4-4-2-å¼•ç”¨æ•°æ®ç±»å‹"><a href="#4-4-2-å¼•ç”¨æ•°æ®ç±»å‹" class="headerlink" title="4.4.2 å¼•ç”¨æ•°æ®ç±»å‹"></a>4.4.2 å¼•ç”¨æ•°æ®ç±»å‹</h4><h5 id="4-4-2-1-éœ€æ±‚åˆ†æ"><a href="#4-4-2-1-éœ€æ±‚åˆ†æ" class="headerlink" title="4.4.2.1 éœ€æ±‚åˆ†æ"></a>4.4.2.1 éœ€æ±‚åˆ†æ</h5><p>å‡è®¾åœ¨æ„å»ºDataSourceå¯¹è±¡çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°BookDaoå¯¹è±¡ï¼Œè¯¥å¦‚ä½•æŠŠBookDaoå¯¹è±¡æ³¨å…¥è¿›æ–¹æ³•å†…è®©å…¶ä½¿ç”¨å‘¢?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        ds.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>);</span><br><span class="line">        ds.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-4-2-2-æ³¨å…¥å¼•ç”¨æ•°æ®ç±»å‹æ­¥éª¤"><a href="#4-4-2-2-æ³¨å…¥å¼•ç”¨æ•°æ®ç±»å‹æ­¥éª¤" class="headerlink" title="4.4.2.2 æ³¨å…¥å¼•ç”¨æ•°æ®ç±»å‹æ­¥éª¤"></a>4.4.2.2 æ³¨å…¥å¼•ç”¨æ•°æ®ç±»å‹æ­¥éª¤</h5><h6 id="æ­¥éª¤1-åœ¨SpringConfigä¸­æ‰«æBookDao"><a href="#æ­¥éª¤1-åœ¨SpringConfigä¸­æ‰«æBookDao" class="headerlink" title="æ­¥éª¤1:åœ¨SpringConfigä¸­æ‰«æBookDao"></a>æ­¥éª¤1:åœ¨SpringConfigä¸­æ‰«æBookDao</h6><p>æ‰«æçš„ç›®çš„æ˜¯è®©Springèƒ½ç®¡ç†åˆ°BookDao,ä¹Ÿå°±æ˜¯è¯´è¦è®©IOCå®¹å™¨ä¸­æœ‰ä¸€ä¸ªbookDaoå¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima.dao&quot;)</span></span><br><span class="line"><span class="meta">@Import(&#123;JdbcConfig.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="æ­¥éª¤2-åœ¨JdbcConfigç±»çš„æ–¹æ³•ä¸Šæ·»åŠ å‚æ•°"><a href="#æ­¥éª¤2-åœ¨JdbcConfigç±»çš„æ–¹æ³•ä¸Šæ·»åŠ å‚æ•°" class="headerlink" title="æ­¥éª¤2:åœ¨JdbcConfigç±»çš„æ–¹æ³•ä¸Šæ·»åŠ å‚æ•°"></a>æ­¥éª¤2:åœ¨JdbcConfigç±»çš„æ–¹æ³•ä¸Šæ·»åŠ å‚æ•°</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">(BookDao bookDao)</span>&#123;</span><br><span class="line">    System.out.println(bookDao);</span><br><span class="line">    <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">    ds.setDriverClassName(driver);</span><br><span class="line">    ds.setUrl(url);</span><br><span class="line">    ds.setUsername(userName);</span><br><span class="line">    ds.setPassword(password);</span><br><span class="line">    <span class="keyword">return</span> ds;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¼•ç”¨ç±»å‹æ³¨å…¥åªéœ€è¦ä¸ºbeanå®šä¹‰æ–¹æ³•è®¾ç½®å½¢å‚å³å¯ï¼Œå®¹å™¨ä¼šæ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…å¯¹è±¡ã€‚</p>
<h6 id="æ­¥éª¤3-è¿è¡Œç¨‹åº-4"><a href="#æ­¥éª¤3-è¿è¡Œç¨‹åº-4" class="headerlink" title="æ­¥éª¤3:è¿è¡Œç¨‹åº"></a>æ­¥éª¤3:è¿è¡Œç¨‹åº</h6><p><img src="https://img-blog.csdnimg.cn/img_convert/599309462ff1d82f851cb0b58a624ba7.png" alt="1630125475609"></p>
<h2 id="5ï¼Œæ³¨è§£å¼€å‘æ€»ç»“"><a href="#5ï¼Œæ³¨è§£å¼€å‘æ€»ç»“" class="headerlink" title="5ï¼Œæ³¨è§£å¼€å‘æ€»ç»“"></a>5ï¼Œæ³¨è§£å¼€å‘æ€»ç»“</h2><p>å‰é¢æˆ‘ä»¬å·²ç»å®Œæˆäº†XMLé…ç½®å’Œæ³¨è§£çš„å¼€å‘å®ç°ï¼Œè‡³äºä¸¤è€…ä¹‹é—´çš„å·®å¼‚ï¼Œå’±ä»¬æ”¾åœ¨ä¸€å—å»å¯¹æ¯”å›é¡¾ä¸‹:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/d058e0589c23d1da90efe9da0082544e.png" alt="1630134786448"></p>
<h2 id="6ï¼ŒSpringæ•´åˆ"><a href="#6ï¼ŒSpringæ•´åˆ" class="headerlink" title="6ï¼ŒSpringæ•´åˆ"></a>6ï¼ŒSpringæ•´åˆ</h2><p>è¯¾ç¨‹å­¦ä¹ åˆ°è¿™é‡Œï¼Œå·²ç»å¯¹Springæœ‰ä¸€ä¸ªç®€å•çš„è®¤è¯†äº†ï¼ŒSpringæœ‰ä¸€ä¸ªå®¹å™¨ï¼Œå«åšIoCå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜beanã€‚åœ¨è¿›è¡Œä¼ä¸šçº§å¼€å‘çš„æ—¶å€™ï¼Œå…¶å®é™¤äº†å°†è‡ªå·±å†™çš„ç±»è®©Springç®¡ç†ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†é‡è¦çš„å·¥ä½œå°±æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æŠ€æœ¯ã€‚å‰é¢å·²ç»è®²äº†å¦‚ä½•ç®¡ç†ç¬¬ä¸‰æ–¹beanäº†ï¼Œä¸‹é¢ç»“åˆIoCå’ŒDIï¼Œæ•´åˆ2ä¸ªå¸¸ç”¨æŠ€æœ¯ï¼Œè¿›ä¸€æ­¥åŠ æ·±å¯¹Springçš„ä½¿ç”¨ç†è§£ã€‚</p>
<h3 id="6-1-Springæ•´åˆMybatisæ€è·¯åˆ†æ"><a href="#6-1-Springæ•´åˆMybatisæ€è·¯åˆ†æ" class="headerlink" title="6.1 Springæ•´åˆMybatisæ€è·¯åˆ†æ"></a>6.1 Springæ•´åˆMybatisæ€è·¯åˆ†æ</h3><h4 id="6-1-1-ç¯å¢ƒå‡†å¤‡"><a href="#6-1-1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="6.1.1 ç¯å¢ƒå‡†å¤‡"></a>6.1.1 ç¯å¢ƒå‡†å¤‡</h4><p>åœ¨å‡†å¤‡ç¯å¢ƒçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ¥å›é¡¾ä¸‹Mybatiså¼€å‘çš„ç›¸å…³å†…å®¹:</p>
<h5 id="æ­¥éª¤1-å‡†å¤‡æ•°æ®åº“è¡¨"><a href="#æ­¥éª¤1-å‡†å¤‡æ•°æ®åº“è¡¨" class="headerlink" title="æ­¥éª¤1:å‡†å¤‡æ•°æ®åº“è¡¨"></a>æ­¥éª¤1:å‡†å¤‡æ•°æ®åº“è¡¨</h5><p>Mybatisæ˜¯æ¥æ“ä½œæ•°æ®åº“è¡¨ï¼Œæ‰€ä»¥å…ˆåˆ›å»ºä¸€ä¸ªæ•°æ®åº“åŠè¡¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database spring_db <span class="type">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line">use spring_db;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tbl_account(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">35</span>),</span><br><span class="line">    money <span class="keyword">double</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤2-åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…"><a href="#æ­¥éª¤2-åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…" class="headerlink" title="æ­¥éª¤2:åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…"></a>æ­¥éª¤2:åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…</h5><p>é¡¹ç›®çš„pom.xmlæ·»åŠ ç›¸å…³ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤3-æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»"><a href="#æ­¥éª¤3-æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»" class="headerlink" title="æ­¥éª¤3:æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»"></a>æ­¥éª¤3:æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Double money;</span><br><span class="line">	<span class="comment">//setter...getter...toString...æ–¹æ³•ç•¥    </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤4-åˆ›å»ºDaoæ¥å£"><a href="#æ­¥éª¤4-åˆ›å»ºDaoæ¥å£" class="headerlink" title="æ­¥éª¤4:åˆ›å»ºDaoæ¥å£"></a>æ­¥éª¤4:åˆ›å»ºDaoæ¥å£</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountDao</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert(&quot;insert into tbl_account(name,money)values(#&#123;name&#125;,#&#123;money&#125;)&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete(&quot;delete from tbl_account where id = #&#123;id&#125; &quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update(&quot;update tbl_account set name = #&#123;name&#125; , money = #&#123;money&#125; where id = #&#123;id&#125; &quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from tbl_account&quot;)</span></span><br><span class="line">    List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from tbl_account where id = #&#123;id&#125; &quot;)</span></span><br><span class="line">    Account <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤5-åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»"><a href="#æ­¥éª¤5-åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»" class="headerlink" title="æ­¥éª¤5:åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»"></a>æ­¥éª¤5:åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    Account <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">AccountService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountDao accountDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span> &#123;</span><br><span class="line">        accountDao.save(account);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span>&#123;</span><br><span class="line">        accountDao.update(account);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        accountDao.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Account <span class="title function_">findById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤6-æ·»åŠ jdbc-propertiesæ–‡ä»¶"><a href="#æ­¥éª¤6-æ·»åŠ jdbc-propertiesæ–‡ä»¶" class="headerlink" title="æ­¥éª¤6:æ·»åŠ jdbc.propertiesæ–‡ä»¶"></a>æ­¥éª¤6:æ·»åŠ jdbc.propertiesæ–‡ä»¶</h5><p>resourcesç›®å½•ä¸‹æ·»åŠ ï¼Œç”¨äºé…ç½®æ•°æ®åº“è¿æ¥å››è¦ç´ </p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/spring_db?useSSL=false</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>

<p>useSSL:å…³é—­MySQLçš„SSLè¿æ¥</p>
<h5 id="æ­¥éª¤7-æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#æ­¥éª¤7-æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="æ­¥éª¤7:æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>æ­¥éª¤7:æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è¯»å–å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;jdbc.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åˆ«åæ‰«æçš„åŒ…è·¯å¾„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.itheima.domain&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ•°æ®æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ˜ å°„æ–‡ä»¶æ‰«æåŒ…è·¯å¾„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.itheima.dao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤8-ç¼–å†™åº”ç”¨ç¨‹åº"><a href="#æ­¥éª¤8-ç¼–å†™åº”ç”¨ç¨‹åº" class="headerlink" title="æ­¥éª¤8:ç¼–å†™åº”ç”¨ç¨‹åº"></a>æ­¥éª¤8:ç¼–å†™åº”ç”¨ç¨‹åº</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1. åˆ›å»ºSqlSessionFactoryBuilderå¯¹è±¡</span></span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">sqlSessionFactoryBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="comment">// 2. åŠ è½½SqlMapConfig.xmlé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;SqlMapConfig.xml.bak&quot;</span>);</span><br><span class="line">        <span class="comment">// 3. åˆ›å»ºSqlSessionFactoryå¯¹è±¡</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> sqlSessionFactoryBuilder.build(inputStream);</span><br><span class="line">        <span class="comment">// 4. è·å–SqlSession</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession();</span><br><span class="line">        <span class="comment">// 5. æ‰§è¡ŒSqlSessionå¯¹è±¡æ‰§è¡ŒæŸ¥è¯¢ï¼Œè·å–ç»“æœUser</span></span><br><span class="line">        <span class="type">AccountDao</span> <span class="variable">accountDao</span> <span class="operator">=</span> sqlSession.getMapper(AccountDao.class);</span><br><span class="line"></span><br><span class="line">        <span class="type">Account</span> <span class="variable">ac</span> <span class="operator">=</span> accountDao.findById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(ac);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6. é‡Šæ”¾èµ„æº</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤9-è¿è¡Œç¨‹åº"><a href="#æ­¥éª¤9-è¿è¡Œç¨‹åº" class="headerlink" title="æ­¥éª¤9:è¿è¡Œç¨‹åº"></a>æ­¥éª¤9:è¿è¡Œç¨‹åº</h5><p><img src="https://img-blog.csdnimg.cn/img_convert/8f3d7abcc7470d3a932924bb4e6a7a1e.png" alt="1630136904087"></p>
<h4 id="6-1-2-æ•´åˆæ€è·¯åˆ†æ"><a href="#6-1-2-æ•´åˆæ€è·¯åˆ†æ" class="headerlink" title="6.1.2 æ•´åˆæ€è·¯åˆ†æ"></a>6.1.2 æ•´åˆæ€è·¯åˆ†æ</h4><p>Mybatisçš„åŸºç¡€ç¯å¢ƒæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±å¾—åˆ†æä¸‹åœ¨ä¸Šè¿°çš„å†…å®¹ä¸­ï¼Œå“ªäº›å¯¹è±¡å¯ä»¥äº¤ç»™Springæ¥ç®¡ç†?</p>
<ul>
<li><p>Mybatisç¨‹åºæ ¸å¿ƒå¯¹è±¡åˆ†æ</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/4b982f73e080db94e357e42843c25136.png" alt="1630137189480"></p>
<p>ä»å›¾ä¸­å¯ä»¥è·å–åˆ°ï¼ŒçœŸæ­£éœ€è¦äº¤ç»™Springç®¡ç†çš„æ˜¯SqlSessionFactory</p>
</li>
<li><p>æ•´åˆMybatisï¼Œå°±æ˜¯å°†Mybatisç”¨åˆ°çš„å†…å®¹äº¤ç»™Springç®¡ç†ï¼Œåˆ†æä¸‹é…ç½®æ–‡ä»¶</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/dca893d70e90e098ed0398527fd130cb.png" alt="1630137388717"></p>
<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>ç¬¬ä¸€è¡Œè¯»å–å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶ï¼ŒSpringæœ‰æä¾›å…·ä½“çš„è§£å†³æ–¹æ¡ˆ<code>@PropertySource</code>,éœ€è¦äº¤ç»™Spring</li>
<li>ç¬¬äºŒè¡Œèµ·åˆ«ååŒ…æ‰«æï¼Œä¸ºSqlSessionFactoryæœåŠ¡çš„ï¼Œéœ€è¦äº¤ç»™Spring</li>
<li>ç¬¬ä¸‰è¡Œä¸»è¦ç”¨äºåšè¿æ¥æ± ï¼ŒSpringä¹‹å‰æˆ‘ä»¬å·²ç»æ•´åˆäº†Druidè¿æ¥æ± ï¼Œè¿™å—ä¹Ÿéœ€è¦äº¤ç»™Spring</li>
<li>å‰é¢ä¸‰è¡Œä¸€èµ·éƒ½æ˜¯ä¸ºäº†åˆ›å»ºSqlSessionå¯¹è±¡ç”¨çš„ï¼Œé‚£ä¹ˆç”¨Springç®¡ç†SqlSessionå¯¹è±¡å—?å›å¿†ä¸‹SqlSessionæ˜¯ç”±SqlSessionFactoryåˆ›å»ºå‡ºæ¥çš„ï¼Œæ‰€ä»¥åªéœ€è¦å°†SqlSessionFactoryäº¤ç»™Springç®¡ç†å³å¯ã€‚</li>
<li>ç¬¬å››è¡Œæ˜¯Mapperæ¥å£å’Œæ˜ å°„æ–‡ä»¶[å¦‚æœä½¿ç”¨æ³¨è§£å°±æ²¡æœ‰è¯¥æ˜ å°„æ–‡ä»¶]ï¼Œè¿™ä¸ªæ˜¯åœ¨è·å–åˆ°SqlSessionä»¥åæ‰§è¡Œå…·ä½“æ“ä½œçš„æ—¶å€™ç”¨ï¼Œæ‰€ä»¥å®ƒå’ŒSqlSessionFactoryåˆ›å»ºçš„æ—¶æœºéƒ½ä¸åœ¨åŒä¸€ä¸ªæ—¶é—´ï¼Œå¯èƒ½éœ€è¦å•ç‹¬ç®¡ç†ã€‚</li>
</ul>
</li>
</ul>
<h3 id="6-2-Springæ•´åˆMybatis"><a href="#6-2-Springæ•´åˆMybatis" class="headerlink" title="6.2 Springæ•´åˆMybatis"></a>6.2 Springæ•´åˆMybatis</h3><p>å‰é¢æˆ‘ä»¬å·²ç»åˆ†æäº†Springä¸Mybatisçš„æ•´åˆï¼Œå¤§ä½“éœ€è¦åšä¸¤ä»¶äº‹ï¼Œ</p>
<p>ç¬¬ä¸€ä»¶äº‹æ˜¯:Springè¦ç®¡ç†MyBatisä¸­çš„SqlSessionFactory</p>
<p>ç¬¬äºŒä»¶äº‹æ˜¯:Springè¦ç®¡ç†Mapperæ¥å£çš„æ‰«æ</p>
<p>å…·ä½“è¯¥å¦‚ä½•å®ç°ï¼Œå…·ä½“çš„æ­¥éª¤ä¸º:</p>
<h4 id="æ­¥éª¤1-é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…"><a href="#æ­¥éª¤1-é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…" class="headerlink" title="æ­¥éª¤1:é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…"></a>æ­¥éª¤1:é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Springæ“ä½œæ•°æ®åº“éœ€è¦è¯¥jaråŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">		Springä¸Mybatisæ•´åˆçš„jaråŒ…</span></span><br><span class="line"><span class="comment">		è¿™ä¸ªjaråŒ…mybatisåœ¨å‰é¢ï¼Œæ˜¯Mybatisæä¾›çš„</span></span><br><span class="line"><span class="comment">	--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="æ­¥éª¤2-åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»"><a href="#æ­¥éª¤2-åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»" class="headerlink" title="æ­¥éª¤2:åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»"></a>æ­¥éª¤2:åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é…ç½®ç±»æ³¨è§£</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//åŒ…æ‰«æï¼Œä¸»è¦æ‰«æçš„æ˜¯é¡¹ç›®ä¸­çš„AccountServiceImplç±»</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ­¥éª¤3-åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»"><a href="#æ­¥éª¤3-åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»" class="headerlink" title="æ­¥éª¤3:åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»"></a>æ­¥éª¤3:åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»</h4><p>åœ¨é…ç½®ç±»ä¸­å®Œæˆæ•°æ®æºçš„åˆ›å»º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(userName);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ­¥éª¤4-ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»"><a href="#æ­¥éª¤4-ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»" class="headerlink" title="æ­¥éª¤4:ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»"></a>æ­¥éª¤4:ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class="line"><span class="meta">@Import(JdbcConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ­¥éª¤5-åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory"><a href="#æ­¥éª¤5-åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory" class="headerlink" title="æ­¥éª¤5:åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory"></a>æ­¥éª¤5:åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisConfig</span> &#123;</span><br><span class="line">    <span class="comment">//å®šä¹‰beanï¼ŒSqlSessionFactoryBeanï¼Œç”¨äºäº§ç”ŸSqlSessionFactoryå¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SqlSessionFactoryBean <span class="title function_">sqlSessionFactory</span><span class="params">(DataSource dataSource)</span>&#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBean</span> <span class="variable">ssfb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBean</span>();</span><br><span class="line">        <span class="comment">//è®¾ç½®æ¨¡å‹ç±»çš„åˆ«åæ‰«æ</span></span><br><span class="line">        ssfb.setTypeAliasesPackage(<span class="string">&quot;com.itheima.domain&quot;</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®æ•°æ®æº</span></span><br><span class="line">        ssfb.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> ssfb;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å®šä¹‰beanï¼Œè¿”å›MapperScannerConfigurerå¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MapperScannerConfigurer <span class="title function_">mapperScannerConfigurer</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">MapperScannerConfigurer</span> <span class="variable">msc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MapperScannerConfigurer</span>();</span><br><span class="line">        msc.setBasePackage(<span class="string">&quot;com.itheima.dao&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> msc;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<ul>
<li><p>ä½¿ç”¨SqlSessionFactoryBeanå°è£…SqlSessionFactoryéœ€è¦çš„ç¯å¢ƒä¿¡æ¯</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/ce845752696827f838233bba65c61b2d.png" alt="1630138835057"></p>
<ul>
<li>SqlSessionFactoryBeanæ˜¯å‰é¢æˆ‘ä»¬è®²è§£FactoryBeançš„ä¸€ä¸ªå­ç±»ï¼Œåœ¨è¯¥ç±»ä¸­å°†SqlSessionFactoryçš„åˆ›å»ºè¿›è¡Œäº†å°è£…ï¼Œç®€åŒ–å¯¹è±¡çš„åˆ›å»ºï¼Œæˆ‘ä»¬åªéœ€è¦å°†å…¶éœ€è¦çš„å†…å®¹è®¾ç½®å³å¯ã€‚</li>
<li>æ–¹æ³•ä¸­æœ‰ä¸€ä¸ªå‚æ•°ä¸ºdataSource,å½“å‰Springå®¹å™¨ä¸­å·²ç»åˆ›å»ºäº†Druidæ•°æ®æºï¼Œç±»å‹åˆšå¥½æ˜¯DataSourceç±»å‹ï¼Œæ­¤æ—¶åœ¨åˆå§‹åŒ–SqlSessionFactoryBeanè¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå‘ç°éœ€è¦ä½¿ç”¨DataSourceå¯¹è±¡ï¼Œè€Œå®¹å™¨ä¸­åˆšå¥½æœ‰è¿™ä¹ˆä¸€ä¸ªå¯¹è±¡ï¼Œå°±è‡ªåŠ¨åŠ è½½äº†DruidDataSourceå¯¹è±¡ã€‚</li>
</ul>
</li>
<li><p>ä½¿ç”¨MapperScannerConfigureråŠ è½½Daoæ¥å£ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ä¿å­˜åˆ°IOCå®¹å™¨ä¸­</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/e0bc83b04b44e17c1920fe59fc9e2f6e.png" alt="1630138916939"></p>
<ul>
<li>è¿™ä¸ªMapperScannerConfigurerå¯¹è±¡ä¹Ÿæ˜¯MyBatisæä¾›çš„ä¸“ç”¨äºæ•´åˆçš„jaråŒ…ä¸­çš„ç±»ï¼Œç”¨æ¥å¤„ç†åŸå§‹é…ç½®æ–‡ä»¶ä¸­çš„mappersç›¸å…³é…ç½®ï¼ŒåŠ è½½æ•°æ®å±‚çš„Mapperæ¥å£ç±»</li>
<li>MapperScannerConfigureræœ‰ä¸€ä¸ªæ ¸å¿ƒå±æ€§basePackageï¼Œå°±æ˜¯ç”¨æ¥è®¾ç½®æ‰€æ‰«æçš„åŒ…è·¯å¾„</li>
</ul>
</li>
</ul>
<h4 id="æ­¥éª¤6-ä¸»é…ç½®ç±»ä¸­å¼•å…¥Mybatisé…ç½®ç±»"><a href="#æ­¥éª¤6-ä¸»é…ç½®ç±»ä¸­å¼•å…¥Mybatisé…ç½®ç±»" class="headerlink" title="æ­¥éª¤6:ä¸»é…ç½®ç±»ä¸­å¼•å…¥Mybatisé…ç½®ç±»"></a>æ­¥éª¤6:ä¸»é…ç½®ç±»ä¸­å¼•å…¥Mybatisé…ç½®ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class="line"><span class="meta">@Import(&#123;JdbcConfig.class,MybatisConfig.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ­¥éª¤7-ç¼–å†™è¿è¡Œç±»"><a href="#æ­¥éª¤7-ç¼–å†™è¿è¡Œç±»" class="headerlink" title="æ­¥éª¤7:ç¼–å†™è¿è¡Œç±»"></a>æ­¥éª¤7:ç¼–å†™è¿è¡Œç±»</h4><p>åœ¨è¿è¡Œç±»ä¸­ï¼Œä»IOCå®¹å™¨ä¸­è·å–Serviceå¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³•è·å–ç»“æœ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line"></span><br><span class="line">        <span class="type">AccountService</span> <span class="variable">accountService</span> <span class="operator">=</span> ctx.getBean(AccountService.class);</span><br><span class="line"></span><br><span class="line">        <span class="type">Account</span> <span class="variable">ac</span> <span class="operator">=</span> accountService.findById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(ac);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ­¥éª¤8-è¿è¡Œç¨‹åº"><a href="#æ­¥éª¤8-è¿è¡Œç¨‹åº" class="headerlink" title="æ­¥éª¤8:è¿è¡Œç¨‹åº"></a>æ­¥éª¤8:è¿è¡Œç¨‹åº</h4><p><img src="https://img-blog.csdnimg.cn/img_convert/9dd50f70e6224fcbffcd7718b72eb70e.png" alt="1630139036627"></p>
<p>æ”¯æŒSpringä¸Mybatisçš„æ•´åˆå°±å·²ç»å®Œæˆäº†ï¼Œå…¶ä¸­ä¸»è¦ç”¨åˆ°çš„ä¸¤ä¸ªç±»åˆ†åˆ«æ˜¯:</p>
<ul>
<li>SqlSessionFactoryBean</li>
<li>MapperScannerConfigurer</li>
</ul>
<h3 id="6-3-Springæ•´åˆJunit"><a href="#6-3-Springæ•´åˆJunit" class="headerlink" title="6.3 Springæ•´åˆJunit"></a>6.3 Springæ•´åˆJunit</h3><p>æ•´åˆJunitä¸æ•´åˆDruidå’ŒMyBatiså·®å¼‚æ¯”è¾ƒå¤§ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼ŸJunitæ˜¯ä¸€ä¸ªæå•å…ƒæµ‹è¯•ç”¨çš„å·¥å…·ï¼Œå®ƒä¸æ˜¯æˆ‘ä»¬ç¨‹åºçš„ä¸»ä½“ï¼Œä¹Ÿä¸ä¼šå‚åŠ æœ€ç»ˆç¨‹åºçš„è¿è¡Œï¼Œä»ä½œç”¨ä¸Šæ¥è¯´å°±å’Œä¹‹å‰çš„ä¸œè¥¿ä¸ä¸€æ ·ï¼Œå®ƒä¸æ˜¯åšåŠŸèƒ½çš„ï¼Œçœ‹åšæ˜¯ä¸€ä¸ªè¾…åŠ©å·¥å…·å°±å¯ä»¥äº†ã€‚</p>
<h4 id="6-3-1-ç¯å¢ƒå‡†å¤‡"><a href="#6-3-1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="6.3.1 ç¯å¢ƒå‡†å¤‡"></a>6.3.1 ç¯å¢ƒå‡†å¤‡</h4><p>è¿™å—ç¯å¢ƒï¼Œå¤§å®¶å¯ä»¥ç›´æ¥ä½¿ç”¨Springä¸Mybatisæ•´åˆçš„ç¯å¢ƒå³å¯ã€‚å½“ç„¶ä¹Ÿå¯ä»¥é‡æ–°åˆ›å»ºä¸€ä¸ªï¼Œå› ä¸ºå†…å®¹æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥æ¥çœ‹ä¸‹é¡¹ç›®ç»“æ„å³å¯:</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/d29948a9688f3eb55d4c0230c8262e67.png" alt="1630139720273"></p>
<h4 id="6-3-2-æ•´åˆJunitæ­¥éª¤"><a href="#6-3-2-æ•´åˆJunitæ­¥éª¤" class="headerlink" title="6.3.2 æ•´åˆJunitæ­¥éª¤"></a>6.3.2 æ•´åˆJunitæ­¥éª¤</h4><p>åœ¨ä¸Šè¿°ç¯å¢ƒçš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬æ¥å¯¹Junitè¿›è¡Œæ•´åˆã€‚</p>
<h5 id="æ­¥éª¤1-å¼•å…¥ä¾èµ–"><a href="#æ­¥éª¤1-å¼•å…¥ä¾èµ–" class="headerlink" title="æ­¥éª¤1:å¼•å…¥ä¾èµ–"></a>æ­¥éª¤1:å¼•å…¥ä¾èµ–</h5><p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="æ­¥éª¤2-ç¼–å†™æµ‹è¯•ç±»"><a href="#æ­¥éª¤2-ç¼–å†™æµ‹è¯•ç±»" class="headerlink" title="æ­¥éª¤2:ç¼–å†™æµ‹è¯•ç±»"></a>æ­¥éª¤2:ç¼–å†™æµ‹è¯•ç±»</h5><p>åœ¨test\javaä¸‹åˆ›å»ºä¸€ä¸ªAccountServiceTest,è¿™ä¸ªåå­—ä»»æ„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¾ç½®ç±»è¿è¡Œå™¨</span></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="comment">//è®¾ç½®Springç¯å¢ƒå¯¹åº”çš„é…ç½®ç±»</span></span><br><span class="line"><span class="meta">@ContextConfiguration(classes = &#123;SpringConfiguration.class&#125;)</span> <span class="comment">//åŠ è½½é…ç½®ç±»</span></span><br><span class="line"><span class="comment">//@ContextConfiguration(locations=&#123;&quot;classpath:applicationContext.xml&quot;&#125;)//åŠ è½½é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountServiceTest</span> &#123;</span><br><span class="line">    <span class="comment">//æ”¯æŒè‡ªåŠ¨è£…é…æ³¨å…¥bean</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountService accountService;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindById</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(accountService.findById(<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindAll</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(accountService.findAll());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong></p>
<ul>
<li>å•å…ƒæµ‹è¯•ï¼Œå¦‚æœæµ‹è¯•çš„æ˜¯æ³¨è§£é…ç½®ç±»ï¼Œåˆ™ä½¿ç”¨<code>@ContextConfiguration(classes = é…ç½®ç±».class)</code></li>
<li>å•å…ƒæµ‹è¯•ï¼Œå¦‚æœæµ‹è¯•çš„æ˜¯é…ç½®æ–‡ä»¶ï¼Œåˆ™ä½¿ç”¨<code>@ContextConfiguration(locations=&#123;é…ç½®æ–‡ä»¶å,...&#125;)</code></li>
<li>Junitè¿è¡Œåæ˜¯åŸºäºSpringç¯å¢ƒè¿è¡Œçš„ï¼Œæ‰€ä»¥Springæä¾›äº†ä¸€ä¸ªä¸“ç”¨çš„ç±»è¿è¡Œå™¨ï¼Œè¿™ä¸ªåŠ¡å¿…è¦è®¾ç½®ï¼Œè¿™ä¸ªç±»è¿è¡Œå™¨å°±åœ¨Springçš„æµ‹è¯•ä¸“ç”¨åŒ…ä¸­æä¾›çš„ï¼Œå¯¼å…¥çš„åæ ‡å°±æ˜¯è¿™ä¸ªä¸œè¥¿<code>SpringJUnit4ClassRunner</code></li>
<li>ä¸Šé¢ä¸¤ä¸ªé…ç½®éƒ½æ˜¯å›ºå®šæ ¼å¼ï¼Œå½“éœ€è¦æµ‹è¯•å“ªä¸ªbeanæ—¶ï¼Œä½¿ç”¨è‡ªåŠ¨è£…é…åŠ è½½å¯¹åº”çš„å¯¹è±¡ï¼Œä¸‹é¢çš„å·¥ä½œå°±å’Œä»¥å‰åšJunitå•å…ƒæµ‹è¯•å®Œå…¨ä¸€æ ·äº†</li>
</ul>
<h4 id="çŸ¥è¯†ç‚¹1ï¼š-RunWith"><a href="#çŸ¥è¯†ç‚¹1ï¼š-RunWith" class="headerlink" title="çŸ¥è¯†ç‚¹1ï¼š@RunWith"></a>çŸ¥è¯†ç‚¹1ï¼š@RunWith</h4><table>
<thead>
<tr>
<th>åç§°</th>
<th>@RunWith</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>æµ‹è¯•ç±»æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>æµ‹è¯•ç±»å®šä¹‰ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>è®¾ç½®JUnitè¿è¡Œå™¨</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>valueï¼ˆé»˜è®¤ï¼‰ï¼šè¿è¡Œæ‰€ä½¿ç”¨çš„è¿è¡ŒæœŸ</td>
</tr>
</tbody></table>
<h4 id="çŸ¥è¯†ç‚¹2ï¼š-ContextConfiguration"><a href="#çŸ¥è¯†ç‚¹2ï¼š-ContextConfiguration" class="headerlink" title="çŸ¥è¯†ç‚¹2ï¼š@ContextConfiguration"></a>çŸ¥è¯†ç‚¹2ï¼š@ContextConfiguration</h4><table>
<thead>
<tr>
<th>åç§°</th>
<th>@ContextConfiguration</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>æµ‹è¯•ç±»æ³¨è§£</td>
</tr>
<tr>
<td>ä½ç½®</td>
<td>æµ‹è¯•ç±»å®šä¹‰ä¸Šæ–¹</td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>è®¾ç½®JUnitåŠ è½½çš„Springæ ¸å¿ƒé…ç½®</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>classesï¼šæ ¸å¿ƒé…ç½®ç±»ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ ¼å¼è®¾å®šåŠ è½½å¤šä¸ªé…ç½®ç±»</td>
</tr>
<tr>
<td>locations:é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ ¼å¼è®¾å®šåŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶åç§°</td>
<td></td>
</tr>
</tbody></table>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://example.com">å± ä¸€ä¹</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://example.com/2023/01/03/%E3%80%90Spring%20%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B2%E3%80%91/">http://example.com/2023/01/03/%E3%80%90Spring%20%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B2%E3%80%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://example.com" target="_blank">å± ä¸€ä¹</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/spring-mybatis-java-%E5%90%8E%E7%AB%AF/">spring mybatis java åç«¯</a></div><div class="post_share"><div class="social-share" data-image="https://view.lixingyong.com/images/2022/08/19/v2-ad8884cd4fe9a3f5357f95469e33be47_r.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://view.lixingyong.com/images/2023/04/28/mm_facetoface_collect_qrcode_1682691038620.png" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://view.lixingyong.com/images/2023/04/28/1682691081397.jpeg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="è¦è¯·æˆ‘å–å†°é˜”è½å˜›"/></a><div class="post-qr-code-desc">è¦è¯·æˆ‘å–å†°é˜”è½å˜›</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/01/03/%E3%80%90Spring%20%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B3%E3%80%91/" title="ã€Spring å…¥é—¨æ•™ç¨‹3ã€‘"><img class="cover" src="https://view.lixingyong.com/images/2022/08/15/wallhaven-28ryjm_1920x1080.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">ã€Spring å…¥é—¨æ•™ç¨‹3ã€‘</div></div></a></div><div class="next-post pull-right"><a href="/2022/12/04/JavaWeb%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD/" title="JavaWebå®ç°æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><img class="cover" src="https://view.lixingyong.com/images/2022/08/12/wallhaven-e7kko8_1920x1080.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">JavaWebå®ç°æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://view.lixingyong.com/images/2023/04/28/53c27054648a9423.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">å± ä¸€ä¹</div><div class="author-info__description">å± ä¸€ä¹çš„ä¸ªäººåšå®¢</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">44</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">32</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/tuyile-icu"><i class="fab fa-github"></i><span>å…³æ³¨æˆ‘</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/tuyile-icu" target="_blank" title="Github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a><a class="social-icon" href="mailto:3189248615@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #000000;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">è¿™é‡Œæœ‰å¾ˆå¤šå¥½åº·çš„å­¦ä¹ èµ„æ–™å“¦ğŸ¤£ğŸ¤£</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-day02"><span class="toc-number">1.</span> <span class="toc-text">Spring_day02</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring"><span class="toc-number">1.1.</span> <span class="toc-text">Spring</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%EF%BC%8CIOC-x2F-DI%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86%E7%AC%AC%E4%B8%89%E6%96%B9bean"><span class="toc-number">2.</span> <span class="toc-text">1ï¼ŒIOC&#x2F;DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%A1%88%E4%BE%8B-%E6%95%B0%E6%8D%AE%E6%BA%90%E5%AF%B9%E8%B1%A1%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.</span> <span class="toc-text">1.1 æ¡ˆä¾‹:æ•°æ®æºå¯¹è±¡ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">2.1.1.</span> <span class="toc-text">1.1.1 ç¯å¢ƒå‡†å¤‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-2-%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90"><span class="toc-number">2.1.2.</span> <span class="toc-text">1.1.2 æ€è·¯åˆ†æ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-%E5%AE%9E%E7%8E%B0Druid%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.3.</span> <span class="toc-text">1.1.3 å®ç°Druidç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%AF%BC%E5%85%A5druid%E7%9A%84%E4%BE%9D%E8%B5%96"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">æ­¥éª¤1:å¯¼å…¥druidçš„ä¾èµ–</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E9%85%8D%E7%BD%AE%E7%AC%AC%E4%B8%89%E6%96%B9bean"><span class="toc-number">2.1.3.2.</span> <span class="toc-text">æ­¥éª¤2:é…ç½®ç¬¬ä¸‰æ–¹bean</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E4%BB%8EIOC%E5%AE%B9%E5%99%A8%E4%B8%AD%E8%8E%B7%E5%8F%96%E5%AF%B9%E5%BA%94%E7%9A%84bean%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.1.3.3.</span> <span class="toc-text">æ­¥éª¤3:ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A44-%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.1.3.4.</span> <span class="toc-text">æ­¥éª¤4:è¿è¡Œç¨‹åº</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-4-%E5%AE%9E%E7%8E%B0C3P0%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.4.</span> <span class="toc-text">1.1.4 å®ç°C3P0ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%AF%BC%E5%85%A5C3P0%E7%9A%84%E4%BE%9D%E8%B5%96%E3%80%91"><span class="toc-number">2.1.4.1.</span> <span class="toc-text">æ­¥éª¤1:å¯¼å…¥C3P0çš„ä¾èµ–ã€‘</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E9%85%8D%E7%BD%AE%E7%AC%AC%E4%B8%89%E6%96%B9bean-1"><span class="toc-number">2.1.4.2.</span> <span class="toc-text">æ­¥éª¤2:é…ç½®ç¬¬ä¸‰æ–¹bean</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.1.4.3.</span> <span class="toc-text">æ­¥éª¤3:è¿è¡Œç¨‹åº</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%8A%A0%E8%BD%BDproperties%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.</span> <span class="toc-text">1.2 åŠ è½½propertiesæ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E7%AC%AC%E4%B8%89%E6%96%B9bean%E5%B1%9E%E6%80%A7%E4%BC%98%E5%8C%96"><span class="toc-number">2.2.1.</span> <span class="toc-text">1.2.1 ç¬¬ä¸‰æ–¹beanå±æ€§ä¼˜åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-1-1-%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">1.2.1.1 å®ç°æ€è·¯</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-1-2-%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">1.2.1.2 å®ç°æ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%87%86%E5%A4%87properties%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.1.2.1.</span> <span class="toc-text">æ­¥éª¤1:å‡†å¤‡propertiesé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E5%BC%80%E5%90%AFcontext%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">2.2.1.2.2.</span> <span class="toc-text">æ­¥éª¤2:å¼€å¯contextå‘½åç©ºé—´</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E5%8A%A0%E8%BD%BDproperties%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.1.2.3.</span> <span class="toc-text">æ­¥éª¤3:åŠ è½½propertiesé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A44-%E5%AE%8C%E6%88%90%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.1.2.4.</span> <span class="toc-text">æ­¥éª¤4:å®Œæˆå±æ€§æ³¨å…¥</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-%E8%AF%BB%E5%8F%96%E5%8D%95%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-number">2.2.2.</span> <span class="toc-text">1.2.2 è¯»å–å•ä¸ªå±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-2-1-%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">1.2.2.1 å®ç°æ€è·¯</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-2-2-%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.2.2.2.</span> <span class="toc-text">1.2.2.2 å®ç°æ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%B7%BB%E5%AF%B9%E5%BA%94%E7%9A%84%E7%B1%BB"><span class="toc-number">2.2.2.2.1.</span> <span class="toc-text">æ­¥éª¤1:åœ¨é¡¹ç›®ä¸­æ·»å¯¹åº”çš„ç±»</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E5%AE%8C%E6%88%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E8%AF%BB%E5%8F%96%E4%B8%8E%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.2.2.2.</span> <span class="toc-text">æ­¥éª¤2:å®Œæˆé…ç½®æ–‡ä»¶çš„è¯»å–ä¸æ³¨å…¥</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F-1"><span class="toc-number">2.2.2.2.3.</span> <span class="toc-text">æ­¥éª¤3:è¿è¡Œç¨‹åº</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-2-3-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">2.2.2.3.</span> <span class="toc-text">1.2.2.3 æ³¨æ„äº‹é¡¹</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-3-%E5%8A%A0%E8%BD%BDproperties%E6%96%87%E4%BB%B6%E5%B0%8F%E7%BB%93"><span class="toc-number">2.2.3.</span> <span class="toc-text">1.2.3 åŠ è½½propertiesæ–‡ä»¶å°ç»“</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%EF%BC%8C%E6%A0%B8%E5%BF%83%E5%AE%B9%E5%99%A8"><span class="toc-number">3.</span> <span class="toc-text">2ï¼Œæ ¸å¿ƒå®¹å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">3.1.</span> <span class="toc-text">2.1 ç¯å¢ƒå‡†å¤‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%AE%B9%E5%99%A8"><span class="toc-number">3.2.</span> <span class="toc-text">2.2 å®¹å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%AE%B9%E5%99%A8%E7%9A%84%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.1.</span> <span class="toc-text">2.2.1 å®¹å™¨çš„åˆ›å»ºæ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-Bean%E7%9A%84%E4%B8%89%E7%A7%8D%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.2.</span> <span class="toc-text">2.2.2 Beançš„ä¸‰ç§è·å–æ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%AE%B9%E5%99%A8%E7%B1%BB%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84"><span class="toc-number">3.2.3.</span> <span class="toc-text">2.2.3 å®¹å™¨ç±»å±‚æ¬¡ç»“æ„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-BeanFactory%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.4.</span> <span class="toc-text">2.2.4 BeanFactoryçš„ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%A0%B8%E5%BF%83%E5%AE%B9%E5%99%A8%E6%80%BB%E7%BB%93"><span class="toc-number">3.3.</span> <span class="toc-text">2.2 æ ¸å¿ƒå®¹å™¨æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%AE%B9%E5%99%A8%E7%9B%B8%E5%85%B3"><span class="toc-number">3.3.1.</span> <span class="toc-text">2.2.1 å®¹å™¨ç›¸å…³</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-bean%E7%9B%B8%E5%85%B3"><span class="toc-number">3.3.2.</span> <span class="toc-text">2.2.2 beanç›¸å…³</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E7%9B%B8%E5%85%B3"><span class="toc-number">3.3.3.</span> <span class="toc-text">2.2.3 ä¾èµ–æ³¨å…¥ç›¸å…³</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%EF%BC%8CIOC-x2F-DI%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91"><span class="toc-number">4.</span> <span class="toc-text">3ï¼ŒIOC&#x2F;DIæ³¨è§£å¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">4.1.</span> <span class="toc-text">3.1 ç¯å¢ƒå‡†å¤‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E5%AE%9A%E4%B9%89bean"><span class="toc-number">4.2.</span> <span class="toc-text">3.2 æ³¨è§£å¼€å‘å®šä¹‰bean</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%88%A0%E9%99%A4%E5%8E%9FXML%E9%85%8D%E7%BD%AE"><span class="toc-number">4.2.1.</span> <span class="toc-text">æ­¥éª¤1:åˆ é™¤åŸXMLé…ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-Dao%E4%B8%8A%E6%B7%BB%E5%8A%A0%E6%B3%A8%E8%A7%A3"><span class="toc-number">4.2.2.</span> <span class="toc-text">æ­¥éª¤2:Daoä¸Šæ·»åŠ æ³¨è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E9%85%8D%E7%BD%AESpring%E7%9A%84%E6%B3%A8%E8%A7%A3%E5%8C%85%E6%89%AB%E6%8F%8F"><span class="toc-number">4.2.3.</span> <span class="toc-text">æ­¥éª¤3:é…ç½®Springçš„æ³¨è§£åŒ…æ‰«æ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A44%EF%BC%9A%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-number">4.2.4.</span> <span class="toc-text">æ­¥éª¤4ï¼šè¿è¡Œç¨‹åº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A45-Service%E4%B8%8A%E6%B7%BB%E5%8A%A0%E6%B3%A8%E8%A7%A3"><span class="toc-number">4.2.5.</span> <span class="toc-text">æ­¥éª¤5:Serviceä¸Šæ·»åŠ æ³¨è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A46-%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-number">4.2.6.</span> <span class="toc-text">æ­¥éª¤6:è¿è¡Œç¨‹åº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B91-Component%E7%AD%89"><span class="toc-number">4.2.7.</span> <span class="toc-text">çŸ¥è¯†ç‚¹1:@Componentç­‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E7%BA%AF%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.3.</span> <span class="toc-text">3.2 çº¯æ³¨è§£å¼€å‘æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90"><span class="toc-number">4.3.1.</span> <span class="toc-text">3.2.1 æ€è·¯åˆ†æ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-number">4.3.2.</span> <span class="toc-text">3.2.2 å®ç°æ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%88%9B%E5%BB%BA%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-number">4.3.2.1.</span> <span class="toc-text">æ­¥éª¤1:åˆ›å»ºé…ç½®ç±»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E6%A0%87%E8%AF%86%E8%AF%A5%E7%B1%BB%E4%B8%BA%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-number">4.3.2.2.</span> <span class="toc-text">æ­¥éª¤2:æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%9B%BF%E6%8D%A2%E5%8C%85%E6%89%AB%E6%8F%8F%E9%85%8D%E7%BD%AE"><span class="toc-number">4.3.2.3.</span> <span class="toc-text">æ­¥éª¤3:ç”¨æ³¨è§£æ›¿æ¢åŒ…æ‰«æé…ç½®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A44-%E5%88%9B%E5%BB%BA%E8%BF%90%E8%A1%8C%E7%B1%BB%E5%B9%B6%E6%89%A7%E8%A1%8C"><span class="toc-number">4.3.2.4.</span> <span class="toc-text">æ­¥éª¤4:åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B91%EF%BC%9A-Configuration"><span class="toc-number">4.3.3.</span> <span class="toc-text">çŸ¥è¯†ç‚¹1ï¼š@Configuration</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B92%EF%BC%9A-ComponentScan"><span class="toc-number">4.3.4.</span> <span class="toc-text">çŸ¥è¯†ç‚¹2ï¼š@ComponentScan</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91bean%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4%E4%B8%8E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86"><span class="toc-number">4.4.</span> <span class="toc-text">3.3 æ³¨è§£å¼€å‘beanä½œç”¨èŒƒå›´ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">4.4.1.</span> <span class="toc-text">3.3.1 ç¯å¢ƒå‡†å¤‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-Bean%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4"><span class="toc-number">4.4.2.</span> <span class="toc-text">3.3.2 Beançš„ä½œç”¨èŒƒå›´</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B91%EF%BC%9A-Scope"><span class="toc-number">4.4.2.1.</span> <span class="toc-text">çŸ¥è¯†ç‚¹1ï¼š@Scope</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-3-Bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">4.4.3.</span> <span class="toc-text">3.3.3 Beançš„ç”Ÿå‘½å‘¨æœŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B91%EF%BC%9A-PostConstruct"><span class="toc-number">4.4.3.1.</span> <span class="toc-text">çŸ¥è¯†ç‚¹1ï¼š@PostConstruct</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B92%EF%BC%9A-PreDestroy"><span class="toc-number">4.4.3.2.</span> <span class="toc-text">çŸ¥è¯†ç‚¹2ï¼š@PreDestroy</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">4.5.</span> <span class="toc-text">3.4 æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">4.5.1.</span> <span class="toc-text">3.4.1 ç¯å¢ƒå‡†å¤‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-2-%E6%B3%A8%E8%A7%A3%E5%AE%9E%E7%8E%B0%E6%8C%89%E7%85%A7%E7%B1%BB%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">4.5.2.</span> <span class="toc-text">3.4.2 æ³¨è§£å®ç°æŒ‰ç…§ç±»å‹æ³¨å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-3-%E6%B3%A8%E8%A7%A3%E5%AE%9E%E7%8E%B0%E6%8C%89%E7%85%A7%E5%90%8D%E7%A7%B0%E6%B3%A8%E5%85%A5"><span class="toc-number">4.5.3.</span> <span class="toc-text">3.4.3 æ³¨è§£å®ç°æŒ‰ç…§åç§°æ³¨å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-4-%E7%AE%80%E5%8D%95%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">4.5.4.</span> <span class="toc-text">3.4.4 ç®€å•æ•°æ®ç±»å‹æ³¨å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-5-%E6%B3%A8%E8%A7%A3%E8%AF%BB%E5%8F%96properties%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">4.5.5.</span> <span class="toc-text">3.4.5 æ³¨è§£è¯»å–propertiesé…ç½®æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41%EF%BC%9Aresource%E4%B8%8B%E5%87%86%E5%A4%87properties%E6%96%87%E4%BB%B6"><span class="toc-number">4.5.5.1.</span> <span class="toc-text">æ­¥éª¤1ï¼šresourceä¸‹å‡†å¤‡propertiesæ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%8A%A0%E8%BD%BDproperties%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">4.5.5.2.</span> <span class="toc-text">æ­¥éª¤2: ä½¿ç”¨æ³¨è§£åŠ è½½propertiesé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43%EF%BC%9A%E4%BD%BF%E7%94%A8-Value%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">4.5.5.3.</span> <span class="toc-text">æ­¥éª¤3ï¼šä½¿ç”¨@Valueè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B91%EF%BC%9A-Autowired"><span class="toc-number">4.5.6.</span> <span class="toc-text">çŸ¥è¯†ç‚¹1ï¼š@Autowired</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B92%EF%BC%9A-Qualifier"><span class="toc-number">4.5.7.</span> <span class="toc-text">çŸ¥è¯†ç‚¹2ï¼š@Qualifier</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B93%EF%BC%9A-Value"><span class="toc-number">4.5.8.</span> <span class="toc-text">çŸ¥è¯†ç‚¹3ï¼š@Value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B94%EF%BC%9A-PropertySource"><span class="toc-number">4.5.9.</span> <span class="toc-text">çŸ¥è¯†ç‚¹4ï¼š@PropertySource</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%EF%BC%8CIOC-x2F-DI%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E7%AE%A1%E7%90%86%E7%AC%AC%E4%B8%89%E6%96%B9bean"><span class="toc-number">5.</span> <span class="toc-text">4ï¼ŒIOC&#x2F;DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">5.1.</span> <span class="toc-text">4.1 ç¯å¢ƒå‡†å¤‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E7%AE%A1%E7%90%86%E7%AC%AC%E4%B8%89%E6%96%B9bean"><span class="toc-number">5.2.</span> <span class="toc-text">4.2 æ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%AF%BC%E5%85%A5%E5%AF%B9%E5%BA%94%E7%9A%84jar%E5%8C%85"><span class="toc-number">5.2.1.</span> <span class="toc-text">æ­¥éª¤1:å¯¼å…¥å¯¹åº”çš„jaråŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E5%9C%A8%E9%85%8D%E7%BD%AE%E7%B1%BB%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E6%96%B9%E6%B3%95"><span class="toc-number">5.2.2.</span> <span class="toc-text">æ­¥éª¤2:åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E5%9C%A8%E6%96%B9%E6%B3%95%E4%B8%8A%E6%B7%BB%E5%8A%A0-Bean%E6%B3%A8%E8%A7%A3"><span class="toc-number">5.2.3.</span> <span class="toc-text">æ­¥éª¤3:åœ¨æ–¹æ³•ä¸Šæ·»åŠ @Beanæ³¨è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A44-%E4%BB%8EIOC%E5%AE%B9%E5%99%A8%E4%B8%AD%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E5%B9%B6%E6%89%93%E5%8D%B0"><span class="toc-number">5.2.4.</span> <span class="toc-text">æ­¥éª¤4:ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æ‰“å°</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-number">5.3.</span> <span class="toc-text">4.3 å¼•å…¥å¤–éƒ¨é…ç½®ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-1-%E4%BD%BF%E7%94%A8%E5%8C%85%E6%89%AB%E6%8F%8F%E5%BC%95%E5%85%A5"><span class="toc-number">5.3.1.</span> <span class="toc-text">4.3.1 ä½¿ç”¨åŒ…æ‰«æå¼•å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%9C%A8Spring%E7%9A%84%E9%85%8D%E7%BD%AE%E7%B1%BB%E4%B8%8A%E6%B7%BB%E5%8A%A0%E5%8C%85%E6%89%AB%E6%8F%8F"><span class="toc-number">5.3.1.1.</span> <span class="toc-text">æ­¥éª¤1:åœ¨Springçš„é…ç½®ç±»ä¸Šæ·»åŠ åŒ…æ‰«æ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E5%9C%A8JdbcConfig%E4%B8%8A%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE%E6%B3%A8%E8%A7%A3"><span class="toc-number">5.3.1.2.</span> <span class="toc-text">æ­¥éª¤2:åœ¨JdbcConfigä¸Šæ·»åŠ é…ç½®æ³¨è§£</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F-2"><span class="toc-number">5.3.1.3.</span> <span class="toc-text">æ­¥éª¤3:è¿è¡Œç¨‹åº</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-2-%E4%BD%BF%E7%94%A8-Import%E5%BC%95%E5%85%A5"><span class="toc-number">5.3.2.</span> <span class="toc-text">4.3.2 ä½¿ç”¨@Importå¼•å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%8E%BB%E9%99%A4JdbcConfig%E7%B1%BB%E4%B8%8A%E7%9A%84%E6%B3%A8%E8%A7%A3"><span class="toc-number">5.3.2.1.</span> <span class="toc-text">æ­¥éª¤1:å»é™¤JdbcConfigç±»ä¸Šçš„æ³¨è§£</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E5%9C%A8Spring%E9%85%8D%E7%BD%AE%E7%B1%BB%E4%B8%AD%E5%BC%95%E5%85%A5"><span class="toc-number">5.3.2.2.</span> <span class="toc-text">æ­¥éª¤2:åœ¨Springé…ç½®ç±»ä¸­å¼•å…¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F-3"><span class="toc-number">5.3.2.3.</span> <span class="toc-text">æ­¥éª¤3:è¿è¡Œç¨‹åº</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B91%EF%BC%9A-Bean"><span class="toc-number">5.4.</span> <span class="toc-text">çŸ¥è¯†ç‚¹1ï¼š@Bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B92%EF%BC%9A-Import"><span class="toc-number">5.5.</span> <span class="toc-text">çŸ¥è¯†ç‚¹2ï¼š@Import</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E5%AE%9E%E7%8E%B0%E4%B8%BA%E7%AC%AC%E4%B8%89%E6%96%B9bean%E6%B3%A8%E5%85%A5%E8%B5%84%E6%BA%90"><span class="toc-number">5.6.</span> <span class="toc-text">4.4 æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-1-%E7%AE%80%E5%8D%95%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.6.1.</span> <span class="toc-text">4.4.1 ç®€å•æ•°æ®ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-4-1-1-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="toc-number">5.6.1.1.</span> <span class="toc-text">4.4.1.1 éœ€æ±‚åˆ†æ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-4-1-2-%E6%B3%A8%E5%85%A5%E7%AE%80%E5%8D%95%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%AD%A5%E9%AA%A4"><span class="toc-number">5.6.1.2.</span> <span class="toc-text">4.4.1.2 æ³¨å…¥ç®€å•æ•°æ®ç±»å‹æ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E7%B1%BB%E4%B8%AD%E6%8F%90%E4%BE%9B%E5%9B%9B%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-number">5.6.1.2.1.</span> <span class="toc-text">æ­¥éª¤1:ç±»ä¸­æä¾›å››ä¸ªå±æ€§</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E4%BD%BF%E7%94%A8-Value%E6%B3%A8%E8%A7%A3%E5%BC%95%E5%85%A5%E5%80%BC"><span class="toc-number">5.6.1.2.2.</span> <span class="toc-text">æ­¥éª¤2:ä½¿ç”¨@Valueæ³¨è§£å¼•å…¥å€¼</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%89%A9%E5%B1%95"><span class="toc-number">5.6.1.2.3.</span> <span class="toc-text">æ‰©å±•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-2-%E5%BC%95%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.6.2.</span> <span class="toc-text">4.4.2 å¼•ç”¨æ•°æ®ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-4-2-1-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="toc-number">5.6.2.1.</span> <span class="toc-text">4.4.2.1 éœ€æ±‚åˆ†æ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-4-2-2-%E6%B3%A8%E5%85%A5%E5%BC%95%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%AD%A5%E9%AA%A4"><span class="toc-number">5.6.2.2.</span> <span class="toc-text">4.4.2.2 æ³¨å…¥å¼•ç”¨æ•°æ®ç±»å‹æ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%9C%A8SpringConfig%E4%B8%AD%E6%89%AB%E6%8F%8FBookDao"><span class="toc-number">5.6.2.2.1.</span> <span class="toc-text">æ­¥éª¤1:åœ¨SpringConfigä¸­æ‰«æBookDao</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E5%9C%A8JdbcConfig%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95%E4%B8%8A%E6%B7%BB%E5%8A%A0%E5%8F%82%E6%95%B0"><span class="toc-number">5.6.2.2.2.</span> <span class="toc-text">æ­¥éª¤2:åœ¨JdbcConfigç±»çš„æ–¹æ³•ä¸Šæ·»åŠ å‚æ•°</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F-4"><span class="toc-number">5.6.2.2.3.</span> <span class="toc-text">æ­¥éª¤3:è¿è¡Œç¨‹åº</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%EF%BC%8C%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93"><span class="toc-number">6.</span> <span class="toc-text">5ï¼Œæ³¨è§£å¼€å‘æ€»ç»“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%EF%BC%8CSpring%E6%95%B4%E5%90%88"><span class="toc-number">7.</span> <span class="toc-text">6ï¼ŒSpringæ•´åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-Spring%E6%95%B4%E5%90%88Mybatis%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90"><span class="toc-number">7.1.</span> <span class="toc-text">6.1 Springæ•´åˆMybatisæ€è·¯åˆ†æ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">7.1.1.</span> <span class="toc-text">6.1.1 ç¯å¢ƒå‡†å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%87%86%E5%A4%87%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="toc-number">7.1.1.1.</span> <span class="toc-text">æ­¥éª¤1:å‡†å¤‡æ•°æ®åº“è¡¨</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E5%AF%BC%E5%85%A5jar%E5%8C%85"><span class="toc-number">7.1.1.2.</span> <span class="toc-text">æ­¥éª¤2:åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E6%A0%B9%E6%8D%AE%E8%A1%A8%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B%E7%B1%BB"><span class="toc-number">7.1.1.3.</span> <span class="toc-text">æ­¥éª¤3:æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A44-%E5%88%9B%E5%BB%BADao%E6%8E%A5%E5%8F%A3"><span class="toc-number">7.1.1.4.</span> <span class="toc-text">æ­¥éª¤4:åˆ›å»ºDaoæ¥å£</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A45-%E5%88%9B%E5%BB%BAService%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="toc-number">7.1.1.5.</span> <span class="toc-text">æ­¥éª¤5:åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A46-%E6%B7%BB%E5%8A%A0jdbc-properties%E6%96%87%E4%BB%B6"><span class="toc-number">7.1.1.6.</span> <span class="toc-text">æ­¥éª¤6:æ·»åŠ jdbc.propertiesæ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A47-%E6%B7%BB%E5%8A%A0Mybatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">7.1.1.7.</span> <span class="toc-text">æ­¥éª¤7:æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A48-%E7%BC%96%E5%86%99%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">7.1.1.8.</span> <span class="toc-text">æ­¥éª¤8:ç¼–å†™åº”ç”¨ç¨‹åº</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A49-%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-number">7.1.1.9.</span> <span class="toc-text">æ­¥éª¤9:è¿è¡Œç¨‹åº</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-2-%E6%95%B4%E5%90%88%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90"><span class="toc-number">7.1.2.</span> <span class="toc-text">6.1.2 æ•´åˆæ€è·¯åˆ†æ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-Spring%E6%95%B4%E5%90%88Mybatis"><span class="toc-number">7.2.</span> <span class="toc-text">6.2 Springæ•´åˆMybatis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%AF%BC%E5%85%A5%E6%95%B4%E5%90%88%E9%9C%80%E8%A6%81%E7%9A%84jar%E5%8C%85"><span class="toc-number">7.2.1.</span> <span class="toc-text">æ­¥éª¤1:é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E5%88%9B%E5%BB%BASpring%E7%9A%84%E4%B8%BB%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-number">7.2.2.</span> <span class="toc-text">æ­¥éª¤2:åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E6%BA%90%E7%9A%84%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-number">7.2.3.</span> <span class="toc-text">æ­¥éª¤3:åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A44-%E4%B8%BB%E9%85%8D%E7%BD%AE%E7%B1%BB%E4%B8%AD%E8%AF%BBproperties%E5%B9%B6%E5%BC%95%E5%85%A5%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-number">7.2.4.</span> <span class="toc-text">æ­¥éª¤4:ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A45-%E5%88%9B%E5%BB%BAMybatis%E9%85%8D%E7%BD%AE%E7%B1%BB%E5%B9%B6%E9%85%8D%E7%BD%AESqlSessionFactory"><span class="toc-number">7.2.5.</span> <span class="toc-text">æ­¥éª¤5:åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A46-%E4%B8%BB%E9%85%8D%E7%BD%AE%E7%B1%BB%E4%B8%AD%E5%BC%95%E5%85%A5Mybatis%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-number">7.2.6.</span> <span class="toc-text">æ­¥éª¤6:ä¸»é…ç½®ç±»ä¸­å¼•å…¥Mybatisé…ç½®ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A47-%E7%BC%96%E5%86%99%E8%BF%90%E8%A1%8C%E7%B1%BB"><span class="toc-number">7.2.7.</span> <span class="toc-text">æ­¥éª¤7:ç¼–å†™è¿è¡Œç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A48-%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-number">7.2.8.</span> <span class="toc-text">æ­¥éª¤8:è¿è¡Œç¨‹åº</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-Spring%E6%95%B4%E5%90%88Junit"><span class="toc-number">7.3.</span> <span class="toc-text">6.3 Springæ•´åˆJunit</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">7.3.1.</span> <span class="toc-text">6.3.1 ç¯å¢ƒå‡†å¤‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-2-%E6%95%B4%E5%90%88Junit%E6%AD%A5%E9%AA%A4"><span class="toc-number">7.3.2.</span> <span class="toc-text">6.3.2 æ•´åˆJunitæ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96"><span class="toc-number">7.3.2.1.</span> <span class="toc-text">æ­¥éª¤1:å¼•å…¥ä¾èµ–</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E7%B1%BB"><span class="toc-number">7.3.2.2.</span> <span class="toc-text">æ­¥éª¤2:ç¼–å†™æµ‹è¯•ç±»</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B91%EF%BC%9A-RunWith"><span class="toc-number">7.3.3.</span> <span class="toc-text">çŸ¥è¯†ç‚¹1ï¼š@RunWith</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B92%EF%BC%9A-ContextConfiguration"><span class="toc-number">7.3.4.</span> <span class="toc-text">çŸ¥è¯†ç‚¹2ï¼š@ContextConfiguration</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/04/29/uml%E5%9B%BE/" title="umlå›¾"><img src="https://view.lixingyong.com/images/2022/08/12/wallhaven-x8qzg3_1920x1080.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="umlå›¾"/></a><div class="content"><a class="title" href="/2023/04/29/uml%E5%9B%BE/" title="umlå›¾">umlå›¾</a><time datetime="2023-04-28T18:56:40.000Z" title="å‘è¡¨äº 2023-04-29 02:56:40">2023-04-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/28/hello-world/" title="Hello World"><img src="https://view.lixingyong.com/images/2022/08/15/wallhaven-8ozj3y_1920x1080.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2023/04/28/hello-world/" title="Hello World">Hello World</a><time datetime="2023-04-28T06:47:22.938Z" title="å‘è¡¨äº 2023-04-28 14:47:22">2023-04-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/23/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-day02/" title="Javaè®¾è®¡æ¨¡å¼-day02"><img src="https://view.lixingyong.com/images/2022/08/12/wallhaven-287ovm_1920x1080.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Javaè®¾è®¡æ¨¡å¼-day02"/></a><div class="content"><a class="title" href="/2023/04/23/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-day02/" title="Javaè®¾è®¡æ¨¡å¼-day02">Javaè®¾è®¡æ¨¡å¼-day02</a><time datetime="2023-04-22T16:34:44.000Z" title="å‘è¡¨äº 2023-04-23 00:34:44">2023-04-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/23/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-day01/" title="Javaè®¾è®¡æ¨¡å¼-day01"><img src="https://view.lixingyong.com/images/2022/08/19/v2-cf9b44c1758d6ba25b6a2ce36fe503fe_r.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Javaè®¾è®¡æ¨¡å¼-day01"/></a><div class="content"><a class="title" href="/2023/04/23/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-day01/" title="Javaè®¾è®¡æ¨¡å¼-day01">Javaè®¾è®¡æ¨¡å¼-day01</a><time datetime="2023-04-22T16:32:34.000Z" title="å‘è¡¨äº 2023-04-23 00:32:34">2023-04-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/10/2023%E5%B9%B4%E7%AC%AC%E5%8D%81%E5%9B%9B%E5%B1%8A%E8%93%9D%E6%A1%A5%E6%9D%AFJava_%E5%A4%A7%E5%AD%A6B%E7%BB%84%E7%9C%9F%E9%A2%98/" title="2023å¹´ç¬¬åå››å±Šè“æ¡¥æ¯Java_å¤§å­¦Bç»„çœŸé¢˜"><img src="https://view.lixingyong.com/images/2022/08/12/wallhaven-k7yrzm_1920x1080.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2023å¹´ç¬¬åå››å±Šè“æ¡¥æ¯Java_å¤§å­¦Bç»„çœŸé¢˜"/></a><div class="content"><a class="title" href="/2023/04/10/2023%E5%B9%B4%E7%AC%AC%E5%8D%81%E5%9B%9B%E5%B1%8A%E8%93%9D%E6%A1%A5%E6%9D%AFJava_%E5%A4%A7%E5%AD%A6B%E7%BB%84%E7%9C%9F%E9%A2%98/" title="2023å¹´ç¬¬åå››å±Šè“æ¡¥æ¯Java_å¤§å­¦Bç»„çœŸé¢˜">2023å¹´ç¬¬åå››å±Šè“æ¡¥æ¯Java_å¤§å­¦Bç»„çœŸé¢˜</a><time datetime="2023-04-10T08:51:38.000Z" title="å‘è¡¨äº 2023-04-10 16:51:38">2023-04-10</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 By å± ä¸€ä¹</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">åˆæ¥æ‰¾æˆ‘ç©å•¦ğŸ¥°</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>